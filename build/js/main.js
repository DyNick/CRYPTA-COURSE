function myMap(){myCenter=new google.maps.LatLng(41.878114,-87.629798);var t={center:myCenter,zoom:12,scrollwheel:!1,draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("googleMap"),t);new google.maps.Marker({position:myCenter}).setMap(e)}$(window).scroll(function(){var t=$(".header");$(window).scrollTop()>=100?t.addClass("header--active"):t.removeClass("header--active")}),$(document).ready(function(){$(".reviews_slider").owlCarousel({loop:!0,margin:0,nav:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}),function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r--;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,o=[];++i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],n.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,i,s;e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,s=this.$element.children(i).width(),e.length&&s<=0&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,o=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||t.each(o,t.proxy(function(t,r){return"left"===i&&e>r-30&&e<r+30?s=t:"right"===i&&e>r-n-30&&e<r-n+30?s=t+1:this.op(e,"<",r)&&this.op(e,">",o[t+1]||r-n)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",o[this.minimum()])?s=e=this.minimum():this.op(e,"<",o[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(void 0===t)return this._current;if(0!==this._items.length){if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});void 0!==e.data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){for(e=this._items.length,i=this._items[--e].width(),s=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>s););o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return n(e)}):t.map(this._clones,function(t,i){return t===e?n(i):null})},n.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,s=1,n=e-1;return void 0===e?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),(s=(((t=i+n)-a)%r+r)%r+a)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},n.prototype.viewport=function(){var s;return this.options.responsiveBaseElement!==e?s=t(this.options.responsiveBaseElement).width():e.innerWidth?s=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?s=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var s=this.relative(this._current);i=void 0===i?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,o,r){var a={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},a,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,(t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,s=i.center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+n,r=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this);n++<s;)this.load(r/2+this._core.relative(o)),r&&t.each(this._core.clones(this._core.relative(o)),a),o++},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):((n=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.$stage.children().toArray().slice(e,i),n=[],o=0;t.each(s,function(e,i){n.push(t(i).height())}),o=Math.max.apply(null,n),this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if((s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},n.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=e.find("img"),h="src",l="",c=this._core.settings,d=function(t){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+h+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after(n)};if(e.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length)return d(a.attr(h)),a.remove(),!1;"youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",d(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,d(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,d(o)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target).closest("."+this._core.settings.itemClass),n=this._videos[s.attr("data-video")],o=n.width||"100%",r=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),s=this._core.items(this._core.relative(s.index())),this._core.reset(s.index()),"youtube"===n.type?i='<iframe width="'+o+'" height="'+r+'" src="//www.youtube.com/embed/'+n.id+"?autoplay=1&rel=0&v="+n.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===n.type?i='<iframe src="//player.vimeo.com/video/'+n.id+'?autoplay=1" width="'+o+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===n.type&&(i='<iframe frameborder="0"height="'+r+'"width="'+o+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+n.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(s.find(".owl-video")),this._playing=s.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(s,n){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},this),s||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["",""],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0,0;t<s;t++){if(e>=r||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),s=this._core.$stage.children(),n=this._hashes[i]&&s.index(this._hashes[i]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){function n(e,i){var n=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+a.join(o+" ")+o).split(" "),function(t,e){if(r[e]!==s)return n=!i||e,!1}),n}function o(t){return n(t,!0)}var r=t("<support>").get(0).style,a="Webkit Moz O ms".split(" "),h={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},l={csstransforms:function(){return!!n("transform")},csstransforms3d:function(){return!!n("perspective")},csstransitions:function(){return!!n("transition")},cssanimations:function(){return!!n("animation")}};l.csstransitions()&&(t.support.transition=new String(o("transition")),t.support.transition.end=h.transition.end[t.support.transition]),l.cssanimations()&&(t.support.animation=new String(o("animation")),t.support.animation.end=h.animation.end[t.support.animation]),l.csstransforms()&&(t.support.transform=new String(o("transform")),t.support.transform3d=l.csstransforms3d())}(window.Zepto||window.jQuery,window,document),$(document).ready(function(){$.support.placeholder="placeholder"in document.createElement("input"),$.support.placeholder&&($(".form-label").each(function(){$(this).addClass("js-hide-label")}),$(".form-group").find("input, textarea").on("keyup blur focus",function(t){var e=$(this),i=e.parent().find("label");"keyup"==t.type?""==e.val()?i.addClass("js-hide-label"):i.removeClass("js-hide-label"):"blur"==t.type?""==e.val()?i.addClass("js-hide-label"):i.removeClass("js-hide-label").addClass("js-unhighlight-label"):"focus"==t.type&&""!==e.val()&&i.removeClass("js-unhighlight-label")}))}),$(".toggle").on("click",function(){$(".container").stop().addClass("active")}),$(".close").on("click",function(){$(".container").stop().removeClass("active")}),$(document).ready(function(){$(".owl-carousel").owlCarousel({loop:!0,margin:20,navSpeed:500,nav:!0,items:4})}),function(){function t(t,i){function s(){t.querySelector(".m--previous-slide").classList.remove("m--active-slide","m--previous-slide"),t.querySelector(".m--previous-nav-bg").classList.remove("m--active-nav-bg","m--previous-nav-bg"),h.classList.remove("m--before-sliding"),l.classList.remove("m--nav-bg-before"),c.classList.remove("m--prev-control"),c.classList.add("m--reset-progress");c.offsetTop;c.classList.remove("m--reset-progress"),y=!1;t.offsetTop;C&&!b&&r()}function n(e){if(!y){y=!0,window.clearTimeout(a),_=e,(c=t.querySelector(".m--active-control")).classList.remove("m--active-control"),c.classList.add("m--prev-control"),t.querySelector(d+"nav__control-"+e).classList.add("m--active-control"),h=t.querySelector(d+"slide-"+e),l=t.querySelector(d+"nav__bg-"+e),t.querySelector(".m--active-slide").classList.add("m--previous-slide"),t.querySelector(".m--active-nav-bg").classList.add("m--previous-nav-bg"),h.classList.add("m--before-sliding"),l.classList.add("m--nav-bg-before");h.offsetTop;h.classList.add("m--active-slide"),l.classList.add("m--active-nav-bg"),setTimeout(s,w+x)}}function o(){if(!y&&!this.classList.contains("m--active-control")){i.blockASafterClick&&(b=!0,t.classList.add("m--autosliding-blocked"));n(+this.getAttribute("data-slide"))}}function r(){window.clearTimeout(a);var t=+i.autoSlidingDelay||$;++_>v&&(_=1),a=setTimeout(function(){n(_)},t)}var a,h,l,c,d=".fnc-",p=(t=t).querySelector(d+"slider__slides"),u=e(d+"slide",t),g=e(d+"nav__control",t),m=e(d+"nav__bg",t),f=e(d+"nav__control-progress",t),v=u.length,_=1,y=!1,w=1e3*+parseFloat(getComputedStyle(p)["transition-duration"]),x=1e3*+parseFloat(getComputedStyle(p)["transition-delay"]),C=!1,$=5e3,b=!1;if(u.forEach(function(t,e){t.classList.add("fnc-slide-"+(e+1))}),g.forEach(function(t,e){t.setAttribute("data-slide",e+1),t.classList.add("fnc-nav__control-"+(e+1))}),m.forEach(function(t,e){t.classList.add("fnc-nav__bg-"+(e+1))}),g.forEach(function(t){t.addEventListener("click",o)}),i.autoSliding||+i.autoSlidingDelay>0){if(!1===i.autoSliding)return;C=!0,r(),t.classList.add("m--with-autosliding");t.offsetTop;var z=+i.autoSlidingDelay||$;z+=x+w,f.forEach(function(t){t.style.transition="transform "+z/1e3+"s"})}t.querySelector(".fnc-nav__control:first-child").classList.add("m--active-control")}var e=function(t,e){var i=(e=e||document).querySelectorAll(t);return[].slice.call(i)};window.fncSlider=function(i,s){e(i).forEach(function(e){t(e,s)})}}(),fncSlider(".example-slider",{autoSlidingDelay:4e3});var $demoCont=document.querySelector(".demo-cont");[].slice.call(document.querySelectorAll(".fnc-slide__action-btn")).forEach(function(t){t.addEventListener("click",function(){$demoCont.classList.toggle("credits-active")})}),document.querySelector(".demo-cont__credits-close").addEventListener("click",function(){$demoCont.classList.remove("credits-active")}),document.querySelector(".js-activate-global-blending").addEventListener("click",function(){document.querySelector(".example-slider").classList.toggle("m--global-blending-active")}),$(document).ready(function(){}),$(window).scroll(function(){var t=$(this).scrollTop();$(".container--study__title ").css({transform:"translate(0%, "+t/2+"%"}),$(".cloud-study").css({transform:"translate(0%, "+t/2+"%"}),$(".birds-study").css({transform:"translate(0%, "+t/100+"%"})}),$(document).ready(function(){!function(t){t.fn.countdown=function(e,i){function s(){eventDate=Date.parse(o.date)/1e3,currentDate=Math.floor(t.now()/1e3),eventDate<=currentDate&&(i.call(this),clearInterval(interval)),seconds=eventDate-currentDate,days=Math.floor(seconds/86400),seconds-=60*days*60*24,hours=Math.floor(seconds/3600),seconds-=60*hours*60,minutes=Math.floor(seconds/60),seconds-=60*minutes,days,n.find(".timeRefDays").text("Дней"),hours,n.find(".timeRefHours").text("Часов"),minutes,n.find(".timeRefMinutes").text("Минут"),seconds,n.find(".timeRefSeconds").text("Секунд"),"on"==o.format&&(days=String(days).length>=2?days:"0"+days,hours=String(hours).length>=2?hours:"0"+hours,minutes=String(minutes).length>=2?minutes:"0"+minutes,seconds=String(seconds).length>=2?seconds:"0"+seconds),isNaN(eventDate)?(errorMessage="Invalid date. Example: 27 March 2015 19:00:00",alert(errorMessage),console.log(errorMessage),clearInterval(interval)):(n.find(".days").text(days),n.find(".hours").text(hours),n.find(".minutes").text(minutes),n.find(".seconds").text(seconds))}var n=t(this),o={date:null,format:null};e&&t.extend(o,e),s(),interval=setInterval(s,1e3)}}(jQuery),$(document).ready(function(){$("#countdown").countdown({date:"28 February 2018 19:00:00",format:"on"})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibXlNYXAiLCJteUNlbnRlciIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJtYXBPcHRpb25zIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwiZHJhZ2dhYmxlIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiUk9BRE1BUCIsIm1hcCIsIk1hcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInNldE1hcCIsIiQiLCJ3aW5kb3ciLCJzY3JvbGwiLCJoZWFkZXIiLCJzY3JvbGxUb3AiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwicmVhZHkiLCJvd2xDYXJvdXNlbCIsImxvb3AiLCJtYXJnaW4iLCJuYXYiLCJyZXNwb25zaXZlIiwiMCIsIml0ZW1zIiwiNjAwIiwiMTAwMCIsInVuZGVmaW5lZCIsIk93bCIsImVsZW1lbnQiLCJvcHRpb25zIiwidGhpcyIsInNldHRpbmdzIiwiZXh0ZW5kIiwiRGVmYXVsdHMiLCIkZWxlbWVudCIsIl9oYW5kbGVycyIsIl9wbHVnaW5zIiwiX3N1cHJlc3MiLCJfY3VycmVudCIsIl9zcGVlZCIsIl9jb29yZGluYXRlcyIsIl9icmVha3BvaW50IiwiX3dpZHRoIiwiX2l0ZW1zIiwiX2Nsb25lcyIsIl9tZXJnZXJzIiwiX3dpZHRocyIsIl9pbnZhbGlkYXRlZCIsIl9waXBlIiwiX2RyYWciLCJ0aW1lIiwidGFyZ2V0IiwicG9pbnRlciIsInN0YWdlIiwic3RhcnQiLCJjdXJyZW50IiwiZGlyZWN0aW9uIiwiX3N0YXRlcyIsInRhZ3MiLCJpbml0aWFsaXppbmciLCJhbmltYXRpbmciLCJkcmFnZ2luZyIsImVhY2giLCJwcm94eSIsImkiLCJoYW5kbGVyIiwiUGx1Z2lucyIsImtleSIsInBsdWdpbiIsImNoYXJBdCIsInRvTG93ZXJDYXNlIiwic2xpY2UiLCJXb3JrZXJzIiwicHJpb3JpdHkiLCJ3b3JrZXIiLCJwdXNoIiwiZmlsdGVyIiwicnVuIiwic2V0dXAiLCJpbml0aWFsaXplIiwicmV3aW5kIiwibW91c2VEcmFnIiwidG91Y2hEcmFnIiwicHVsbERyYWciLCJmcmVlRHJhZyIsInN0YWdlUGFkZGluZyIsIm1lcmdlIiwibWVyZ2VGaXQiLCJhdXRvV2lkdGgiLCJzdGFydFBvc2l0aW9uIiwicnRsIiwic21hcnRTcGVlZCIsImZsdWlkU3BlZWQiLCJkcmFnRW5kU3BlZWQiLCJyZXNwb25zaXZlUmVmcmVzaFJhdGUiLCJyZXNwb25zaXZlQmFzZUVsZW1lbnQiLCJmYWxsYmFja0Vhc2luZyIsImluZm8iLCJuZXN0ZWRJdGVtU2VsZWN0b3IiLCJpdGVtRWxlbWVudCIsInN0YWdlRWxlbWVudCIsInJlZnJlc2hDbGFzcyIsImxvYWRlZENsYXNzIiwibG9hZGluZ0NsYXNzIiwicnRsQ2xhc3MiLCJyZXNwb25zaXZlQ2xhc3MiLCJkcmFnQ2xhc3MiLCJpdGVtQ2xhc3MiLCJzdGFnZUNsYXNzIiwic3RhZ2VPdXRlckNsYXNzIiwiZ3JhYkNsYXNzIiwiV2lkdGgiLCJEZWZhdWx0IiwiSW5uZXIiLCJPdXRlciIsIlR5cGUiLCJFdmVudCIsIlN0YXRlIiwid2lkdGgiLCJjYWNoZSIsInJlbGF0aXZlIiwiJHN0YWdlIiwiY2hpbGRyZW4iLCJyZW1vdmUiLCJncmlkIiwiY3NzIiwibWFyZ2luLWxlZnQiLCJtYXJnaW4tcmlnaHQiLCJ0b0ZpeGVkIiwiaXRlcmF0b3IiLCJsZW5ndGgiLCJ3aWR0aHMiLCJNYXRoIiwibWluIiwiY2xvbmVzIiwidmlldyIsIm1heCIsInNpemUiLCJjZWlsIiwicmVwZWF0IiwiYXBwZW5kIiwicHJlcGVuZCIsIm5vcm1hbGl6ZSIsIm91dGVySFRNTCIsImFwcGVuZFRvIiwicHJlcGVuZFRvIiwicHJldmlvdXMiLCJjb29yZGluYXRlcyIsInBhZGRpbmciLCJhYnMiLCJwYWRkaW5nLWxlZnQiLCJwYWRkaW5nLXJpZ2h0IiwiZXEiLCJyZW1vdmVBdHRyIiwiaW5kZXgiLCJtaW5pbXVtIiwibWF4aW11bSIsInJlc2V0IiwiYW5pbWF0ZSIsImlubmVyIiwib3V0ZXIiLCJuIiwiYmVnaW4iLCJlbmQiLCJtYXRjaGVzIiwib3AiLCJqb2luIiwicHJvdG90eXBlIiwiZW50ZXIiLCJ0cmlnZ2VyIiwidG9nZ2xlQ2xhc3MiLCJpcyIsImltZ3MiLCJuZXN0ZWRTZWxlY3RvciIsImZpbmQiLCJwcmVsb2FkQXV0b1dpZHRoSW1hZ2VzIiwid3JhcCIsInBhcmVudCIsInJlcGxhY2UiLCJub3QiLCJyZWZyZXNoIiwiaW52YWxpZGF0ZSIsInJlZ2lzdGVyRXZlbnRIYW5kbGVycyIsImxlYXZlIiwidmlld3BvcnQiLCJvdmVyd3JpdGVzIiwibWF0Y2giLCJicmVha3BvaW50IiwiTnVtYmVyIiwiYXR0ciIsIlJlZ0V4cCIsInByb3BlcnR5IiwibmFtZSIsInZhbHVlIiwib3B0aW9uc0xvZ2ljIiwicHJlcGFyZSIsIml0ZW0iLCJldmVudCIsImNvbnRlbnQiLCJkYXRhIiwidXBkYXRlIiwicCIsImFsbCIsImdyZXAiLCJkaW1lbnNpb24iLCJvblRocm90dGxlZFJlc2l6ZSIsImNsZWFyVGltZW91dCIsInJlc2l6ZVRpbWVyIiwic2V0VGltZW91dCIsIm9uUmVzaXplIiwiaXNEZWZhdWx0UHJldmVudGVkIiwic3VwcG9ydCIsInRyYW5zaXRpb24iLCJvbiIsIm9uVHJhbnNpdGlvbkVuZCIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnRW5kIiwid2hpY2giLCJ0cmFuc2Zvcm0iLCJ4Iiwic3BsaXQiLCJ5IiwibGVmdCIsInRvcCIsInN0b3AiLCJ0eXBlIiwic3BlZWQiLCJEYXRlIiwiZ2V0VGltZSIsIm9uZSIsImRlbHRhIiwiZGlmZmVyZW5jZSIsIm9uRHJhZ01vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInB1bGwiLCJvZmYiLCJjbG9zZXN0IiwiY29vcmRpbmF0ZSIsInRyYW5zZm9ybTNkIiwic3RhdGUiLCJwYXJ0IiwidiIsInN1cHByZXNzIiwicmVsZWFzZSIsIm0iLCJpc051bWVyaWMiLCJyZWNpcHJvY2FsSXRlbXNXaWR0aCIsImVsZW1lbnRXaWR0aCIsIm1lcmdlcnMiLCJvZGQiLCJldmVuIiwibXVsdGlwbGllciIsIm5ld1Bvc2l0aW9uIiwiZHVyYXRpb24iLCJmcm9tIiwidG8iLCJmYWN0b3IiLCJyZXZlcnQiLCJkaXN0YW5jZSIsIm5leHQiLCJwcmV2Iiwic3RvcFByb3BhZ2F0aW9uIiwic3JjRWxlbWVudCIsIm9yaWdpbmFsVGFyZ2V0IiwiZ2V0IiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudFdpZHRoIiwiY29uc29sZSIsIndhcm4iLCJlbXB0eSIsImpRdWVyeSIsIm5vZGVUeXBlIiwiYWRkQmFjayIsImFkZCIsImFmdGVyIiwiYmVmb3JlIiwic3BsaWNlIiwiaW1hZ2VzIiwiSW1hZ2UiLCJlIiwic3JjIiwiZGVzdHJveSIsInVud3JhcCIsImNvbnRlbnRzIiwicmVtb3ZlRGF0YSIsImEiLCJvIiwiYiIsImxpc3RlbmVyIiwiY2FwdHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsIm5hbWVzcGFjZSIsInN0YXR1cyIsImNvdW50IiwiY2FtZWxDYXNlIiwicmVsYXRlZFRhcmdldCIsIm9uVHJpZ2dlciIsInJlZ2lzdGVyIiwiY2FsbCIsImNvbmNhdCIsIm9iamVjdCIsInNwZWNpYWwiLCJvd2wiLCJfZGVmYXVsdCIsImFwcGx5IiwiaW5kZXhPZiIsImFyZ3VtZW50cyIsInRhZyIsImluQXJyYXkiLCJldmVudHMiLCJyZXN1bHQiLCJvcmlnaW5hbEV2ZW50IiwidG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImNsaWVudFgiLCJjbGllbnRZIiwibnVtYmVyIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiZmlyc3QiLCJzZWNvbmQiLCJmbiIsIm9wdGlvbiIsImFyZ3MiLCJBcnJheSIsIiR0aGlzIiwiQ29uc3RydWN0b3IiLCJaZXB0byIsIkF1dG9SZWZyZXNoIiwiY2Fyb3VzZWwiLCJfY29yZSIsIl9pbnRlcnZhbCIsIl92aXNpYmxlIiwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIiwiYXV0b1JlZnJlc2giLCJ3YXRjaCIsImF1dG9SZWZyZXNoSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiTGF6eSIsIl9sb2FkZWQiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgY2hhbmdlLm93bC5jYXJvdXNlbCByZXNpemVkLm93bC5jYXJvdXNlbCIsImxhenlMb2FkIiwibG9hZCIsIiRpdGVtIiwiJGVsZW1lbnRzIiwiaW1hZ2UiLCJ1cmwiLCJkZXZpY2VQaXhlbFJhdGlvIiwib25sb2FkIiwiYmFja2dyb3VuZC1pbWFnZSIsIm9wYWNpdHkiLCJoYW5kbGVycyIsIkF1dG9IZWlnaHQiLCJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgcmVmcmVzaGVkLm93bC5jYXJvdXNlbCIsImF1dG9IZWlnaHQiLCJjaGFuZ2VkLm93bC5jYXJvdXNlbCIsImxvYWRlZC5vd2wubGF6eSIsImF1dG9IZWlnaHRDbGFzcyIsInZpc2libGUiLCJ0b0FycmF5IiwiaGVpZ2h0cyIsIm1heGhlaWdodCIsImhlaWdodCIsIlZpZGVvIiwiX3ZpZGVvcyIsIl9wbGF5aW5nIiwicmVzaXplLm93bC5jYXJvdXNlbCIsInZpZGVvIiwiaXNJbkZ1bGxTY3JlZW4iLCJyZWZyZXNoZWQub3dsLmNhcm91c2VsIiwicHJlcGFyZWQub3dsLmNhcm91c2VsIiwiZmV0Y2giLCJwbGF5IiwidmlkZW9IZWlnaHQiLCJ2aWRlb1dpZHRoIiwiaWQiLCJFcnJvciIsInRodW1ibmFpbCIsInRuTGluayIsImljb24iLCJwYXRoIiwiZGltZW5zaW9ucyIsImN1c3RvbVRuIiwic3JjVHlwZSIsImxhenlDbGFzcyIsImNyZWF0ZSIsImFqYXgiLCJqc29ucCIsImRhdGFUeXBlIiwic3VjY2VzcyIsInRodW1ibmFpbF9sYXJnZSIsImZyYW1lZ3JhYl91cmwiLCJodG1sIiwiaW5zZXJ0QWZ0ZXIiLCJmdWxsc2NyZWVuRWxlbWVudCIsIm1vekZ1bGxTY3JlZW5FbGVtZW50Iiwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiLCJoYXNDbGFzcyIsIkFuaW1hdGUiLCJzY29wZSIsImNvcmUiLCJzd2FwcGluZyIsImNoYW5nZS5vd2wuY2Fyb3VzZWwiLCJkcmFnLm93bC5jYXJvdXNlbCBkcmFnZ2VkLm93bC5jYXJvdXNlbCB0cmFuc2xhdGVkLm93bC5jYXJvdXNlbCIsInRyYW5zbGF0ZS5vd2wuY2Fyb3VzZWwiLCJhbmltYXRlT3V0IiwiYW5pbWF0ZUluIiwic3dhcCIsImFuaW1hdGlvbiIsImNsZWFyIiwiaW5jb21pbmciLCJvdXRnb2luZyIsIkF1dG9wbGF5IiwiX3RpbWVvdXQiLCJfcGF1c2VkIiwiYXV0b3BsYXkiLCJfc2V0QXV0b1BsYXlJbnRlcnZhbCIsInBsYXkub3dsLmF1dG9wbGF5IiwidCIsInMiLCJzdG9wLm93bC5hdXRvcGxheSIsIm1vdXNlb3Zlci5vd2wuYXV0b3BsYXkiLCJhdXRvcGxheUhvdmVyUGF1c2UiLCJwYXVzZSIsIm1vdXNlbGVhdmUub3dsLmF1dG9wbGF5IiwidG91Y2hzdGFydC5vd2wuY29yZSIsInRvdWNoZW5kLm93bC5jb3JlIiwiYXV0b3BsYXlUaW1lb3V0IiwiYXV0b3BsYXlTcGVlZCIsInRpbWVvdXQiLCJfZ2V0TmV4dFRpbWVvdXQiLCJoaWRkZW4iLCJOYXZpZ2F0aW9uIiwiX2luaXRpYWxpemVkIiwiX3BhZ2VzIiwiX2NvbnRyb2xzIiwiX3RlbXBsYXRlcyIsIl9vdmVycmlkZXMiLCJkb3RzRGF0YSIsImRvdENsYXNzIiwiYWRkZWQub3dsLmNhcm91c2VsIiwicG9wIiwicmVtb3ZlLm93bC5jYXJvdXNlbCIsImRyYXciLCJuYXZUZXh0IiwibmF2U3BlZWQiLCJuYXZFbGVtZW50IiwibmF2Q29udGFpbmVyIiwibmF2Q29udGFpbmVyQ2xhc3MiLCJuYXZDbGFzcyIsInNsaWRlQnkiLCJkb3RzQ2xhc3MiLCJkb3RzIiwiZG90c0VhY2giLCJkb3RzU3BlZWQiLCJkb3RzQ29udGFpbmVyIiwib3ZlcnJpZGUiLCIkcmVsYXRpdmUiLCIkcHJldmlvdXMiLCIkbmV4dCIsInByb3AiLCIkYWJzb2x1dGUiLCJjb250cm9sIiwib3ZlcmlkZXMiLCJqIiwibG93ZXIiLCJ1cHBlciIsImRpc2FibGVkIiwicGFnZSIsImdldFBvc2l0aW9uIiwic3VjY2Vzc29yIiwic3RhbmRhcmQiLCJIYXNoIiwiX2hhc2hlcyIsImhhc2giLCJsb2NhdGlvbiIsInN1YnN0cmluZyIsIlVSTGhhc2hMaXN0ZW5lciIsInRlc3QiLCJwcmVmaXhlZCIsInRvVXBwZXJDYXNlIiwicHJlZml4ZXMiLCJzdHlsZSIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJXZWJraXRBbmltYXRpb24iLCJNb3pBbmltYXRpb24iLCJPQW5pbWF0aW9uIiwidGVzdHMiLCJjc3N0cmFuc2Zvcm1zIiwiY3NzdHJhbnNmb3JtczNkIiwiY3NzdHJhbnNpdGlvbnMiLCJjc3NhbmltYXRpb25zIiwiU3RyaW5nIiwicGxhY2Vob2xkZXIiLCJjcmVhdGVFbGVtZW50IiwiJHBhcmVudCIsInZhbCIsIl9mbmNTbGlkZXJJbml0IiwiJHNsaWRlciIsImFmdGVyU2xpZGluZ0hhbmRsZXIiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiJGFjdGl2ZVNsaWRlIiwiJGFjdGl2ZUNvbnRyb2xzQmciLCIkcHJldkNvbnRyb2wiLCJvZmZzZXRUb3AiLCJzbGlkaW5nIiwiYXV0b1NsaWRpbmdBY3RpdmUiLCJhdXRvU2xpZGluZ0Jsb2NrZWQiLCJzZXRBdXRvc2xpZGluZ1RPIiwicGVyZm9ybVNsaWRpbmciLCJzbGlkZUlEIiwiYXV0b1NsaWRpbmdUTyIsImN1clNsaWRlIiwicHJlZml4Iiwic2xpZGluZ0FUIiwic2xpZGluZ0RlbGF5IiwiY29udHJvbENsaWNrSGFuZGxlciIsImNvbnRhaW5zIiwiYmxvY2tBU2FmdGVyQ2xpY2siLCJnZXRBdHRyaWJ1dGUiLCJkZWxheSIsImF1dG9TbGlkaW5nRGVsYXkiLCJudW1PZlNsaWRlcyIsIiRzbGlkZXNDb250IiwiJHNsaWRlcyIsIiQkIiwiJGNvbnRyb2xzIiwiJGNvbnRyb2xzQmdzIiwiJHByb2dyZXNzQVMiLCJnZXRDb21wdXRlZFN0eWxlIiwiZm9yRWFjaCIsIiRzbGlkZSIsIiRjb250cm9sIiwic2V0QXR0cmlidXRlIiwiJGJnIiwiYXV0b1NsaWRpbmciLCIkcHJvZ3Jlc3MiLCJzZWxlY3RvciIsImNvbnRleHQiLCJlbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmbmNTbGlkZXIiLCJzbGlkZXJTZWxlY3RvciIsIiRkZW1vQ29udCIsIiRidG4iLCJ0b2dnbGUiLCJzdCIsImNvdW50ZG93biIsImV2ZW50RGF0ZSIsInBhcnNlIiwiciIsImRhdGUiLCJjdXJyZW50RGF0ZSIsImZsb29yIiwibm93IiwiaW50ZXJ2YWwiLCJzZWNvbmRzIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsInRoaXNFbCIsInRleHQiLCJlcnJvck1lc3NhZ2UiLCJhbGVydCIsImxvZyIsImZvcm1hdCJdLCJtYXBwaW5ncyI6IkFBNHhHQSxTQUFTQSxRQUVMQyxTQUFTLElBQUlDLE9BQU9DLEtBQUtDLE9BQU8sV0FBWSxXQUM1QyxJQUFJQyxHQUNBQyxPQUFPTCxTQUNQTSxLQUFLLEdBQUlDLGFBQWEsRUFBT0MsV0FBVyxFQUN4Q0MsVUFBVVIsT0FBT0MsS0FBS1EsVUFBVUMsU0FFaENDLEVBQUksSUFBSVgsT0FBT0MsS0FBS1csSUFBSUMsU0FBU0MsZUFBZSxhQUFhWCxHQUVwRCxJQUFJSCxPQUFPQyxLQUFLYyxRQUN6QkMsU0FBVWpCLFdBRVBrQixPQUFPTixHQXR5R2xCTyxFQUFFQyxRQUFRQyxPQUFRLFdBQ2QsSUFBSUMsRUFBU0gsRUFBRSxXQUNYQSxFQUFFQyxRQUFRRyxhQUFlLElBQ3pCRCxFQUFPRSxTQUFTLGtCQUVoQkYsRUFBT0csWUFBWSxvQkFJM0JOLEVBQUVMLFVBQVVZLE1BQU0sV0FDTVAsRUFBRSxtQkFDUlEsYUFDVkMsTUFBSyxFQUNMQyxPQUFPLEVBQ1BDLEtBQUks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QUtuSixFQUFFeFAsT0FBT2toQixFQUFHdkksR0FDakIzVyxJQUNBdWYsU0FBV2hPLFlBQVl2UixFQUFHLE1BckRsQyxDQXVERytNLFFBRUh0USxFQUFFTCxVQUFVWSxNQUFNLFdBV2RQLEVBQUUsY0FBY3NpQixXQUNaSSxLQUFNLDRCQUNOYyxPQUFRIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbi8vIGhlYWRlciBmaXhlZFxyXG4kKHdpbmRvdykuc2Nyb2xsKCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBoZWFkZXIgPSAkKCcuaGVhZGVyJyk7XHJcbiAgICBpZiggJCh3aW5kb3cpLnNjcm9sbFRvcCgpID49IDEwMCApe1xyXG4gICAgICAgIGhlYWRlci5hZGRDbGFzcygnaGVhZGVyLS1hY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaGVhZGVyLnJlbW92ZUNsYXNzKCdoZWFkZXItLWFjdGl2ZScpO1xyXG4gICAgfVxyXG59KTtcclxuLy8gU0xJREVSIFNQRUFLRVJTIFJFVklFV1NcclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2xpZGVyUmV2aWV3cyA9ICQoJy5yZXZpZXdzX3NsaWRlcicpO1xyXG4gICAgc2xpZGVyUmV2aWV3cy5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDp0cnVlLFxyXG4gICAgICAgIG1hcmdpbjowLFxyXG4gICAgICAgIG5hdjp0cnVlLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6e1xyXG4gICAgICAgICAgICAwOntcclxuICAgICAgICAgICAgICAgIGl0ZW1zOjFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgNjAwOntcclxuICAgICAgICAgICAgICAgIGl0ZW1zOjFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgMTAwMDp7XHJcbiAgICAgICAgICAgICAgICBpdGVtczoxXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXG4vKipcclxuICogT3dsIENhcm91c2VsIHYyLjIuMVxyXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE3IERhdmlkIERldXRzY2hcclxuICogTGljZW5zZWQgdW5kZXIgICgpXHJcbiAqL1xyXG4vKipcclxuICogT3dsIGNhcm91c2VsXHJcbiAqIEB2ZXJzaW9uIDIuMS42XHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICogQHRvZG8gTGF6eSBMb2FkIEljb25cclxuICogQHRvZG8gcHJldmVudCBhbmltYXRpb25lbmQgYnVibGluZ1xyXG4gKiBAdG9kbyBpdGVtc1NjYWxlVXBcclxuICogQHRvZG8gVGVzdCBaZXB0b1xyXG4gKiBAdG9kbyBzdGFnZVBhZGRpbmcgY2FsY3VsYXRlIHdyb25nIGFjdGl2ZSBjbGFzc2VzXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIGNhcm91c2VsLlxyXG4gICAgICogQGNsYXNzIFRoZSBPd2wgQ2Fyb3VzZWwuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fGpRdWVyeX0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGNyZWF0ZSB0aGUgY2Fyb3VzZWwgZm9yLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIE93bChlbGVtZW50LCBvcHRpb25zKSB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgc2V0dGluZ3MgZm9yIHRoZSBjYXJvdXNlbC5cclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgb3B0aW9ucyBzZXQgYnkgdGhlIGNhbGxlciBpbmNsdWRpbmcgZGVmYXVsdHMuXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBPd2wuRGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQbHVnaW4gZWxlbWVudC5cclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByb3hpZWQgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZXMgdG8gdGhlIHJ1bm5pbmcgcGx1Z2lucyBvZiB0aGlzIGNhcm91c2VsLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wbHVnaW5zID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnRseSBzdXBwcmVzc2VkIGV2ZW50cyB0byBwcmV2ZW50IHRoZW0gZnJvbSBiZWVpbmcgcmV0cmlnZ2VyZWQuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3N1cHJlc3MgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWJzb2x1dGUgY3VycmVudCBwb3NpdGlvbi5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29vcmRpbmF0ZXMgb2YgYWxsIGl0ZW1zIGluIHBpeGVsLlxyXG4gICAgICAgICAqIEB0b2RvIFRoZSBuYW1lIG9mIHRoaXMgbWVtYmVyIGlzIG1pc3NsZWFkaW5nLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IGJyZWFrcG9pbnQuXHJcbiAgICAgICAgICogQHRvZG8gUmVhbCBtZWRpYSBxdWVyaWVzIHdvdWxkIGJlIG5pY2UuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2JyZWFrcG9pbnQgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHdpZHRoIG9mIHRoZSBwbHVnaW4gZWxlbWVudC5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl93aWR0aCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCByZWFsIGl0ZW1zLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pdGVtcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgY2xvbmVkIGl0ZW1zLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jbG9uZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTWVyZ2UgdmFsdWVzIG9mIGFsbCBpdGVtcy5cclxuICAgICAgICAgKiBAdG9kbyBNYXliZSB0aGlzIGNvdWxkIGJlIHBhcnQgb2YgYSBwbHVnaW4uXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX21lcmdlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV2lkdGhzIG9mIGFsbCBpdGVtcy5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl93aWR0aHMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW52YWxpZGF0ZWQgcGFydHMgd2l0aGluIHRoZSB1cGRhdGUgcHJvY2Vzcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZWQgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogT3JkZXJlZCBsaXN0IG9mIHdvcmtlcnMgZm9yIHRoZSB1cGRhdGUgcHJvY2Vzcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fcGlwZSA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHN0YXRlIGluZm9ybWF0aW9uIGZvciB0aGUgZHJhZyBvcGVyYXRpb24uXHJcbiAgICAgICAgICogQHRvZG8gIzI2MVxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9kcmFnID0ge1xyXG4gICAgICAgICAgICB0aW1lOiBudWxsLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IG51bGwsXHJcbiAgICAgICAgICAgIHBvaW50ZXI6IG51bGwsXHJcbiAgICAgICAgICAgIHN0YWdlOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogbnVsbCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQ6IG51bGxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiBudWxsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBzdGF0ZSBpbmZvcm1hdGlvbiBhbmQgdGhlaXIgdGFncy5cclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9zdGF0ZXMgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IHt9LFxyXG4gICAgICAgICAgICB0YWdzOiB7XHJcbiAgICAgICAgICAgICAgICAnaW5pdGlhbGl6aW5nJzogWyAnYnVzeScgXSxcclxuICAgICAgICAgICAgICAgICdhbmltYXRpbmcnOiBbICdidXN5JyBdLFxyXG4gICAgICAgICAgICAgICAgJ2RyYWdnaW5nJzogWyAnaW50ZXJhY3RpbmcnIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICQuZWFjaChbICdvblJlc2l6ZScsICdvblRocm90dGxlZFJlc2l6ZScgXSwgJC5wcm94eShmdW5jdGlvbihpLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdID0gJC5wcm94eSh0aGlzW2hhbmRsZXJdLCB0aGlzKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgICQuZWFjaChPd2wuUGx1Z2lucywgJC5wcm94eShmdW5jdGlvbihrZXksIHBsdWdpbikge1xyXG4gICAgICAgICAgICB0aGlzLl9wbHVnaW5zW2tleS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgxKV1cclxuICAgICAgICAgICAgICAgID0gbmV3IHBsdWdpbih0aGlzKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgICQuZWFjaChPd2wuV29ya2VycywgJC5wcm94eShmdW5jdGlvbihwcmlvcml0eSwgd29ya2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BpcGUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAnZmlsdGVyJzogd29ya2VyLmZpbHRlcixcclxuICAgICAgICAgICAgICAgICdydW4nOiAkLnByb3h5KHdvcmtlci5ydW4sIHRoaXMpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zIGZvciB0aGUgY2Fyb3VzZWwuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBpdGVtczogMyxcclxuICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICBjZW50ZXI6IGZhbHNlLFxyXG4gICAgICAgIHJld2luZDogZmFsc2UsXHJcblxyXG4gICAgICAgIG1vdXNlRHJhZzogdHJ1ZSxcclxuICAgICAgICB0b3VjaERyYWc6IHRydWUsXHJcbiAgICAgICAgcHVsbERyYWc6IHRydWUsXHJcbiAgICAgICAgZnJlZURyYWc6IGZhbHNlLFxyXG5cclxuICAgICAgICBtYXJnaW46IDAsXHJcbiAgICAgICAgc3RhZ2VQYWRkaW5nOiAwLFxyXG5cclxuICAgICAgICBtZXJnZTogZmFsc2UsXHJcbiAgICAgICAgbWVyZ2VGaXQ6IHRydWUsXHJcbiAgICAgICAgYXV0b1dpZHRoOiBmYWxzZSxcclxuXHJcbiAgICAgICAgc3RhcnRQb3NpdGlvbjogMCxcclxuICAgICAgICBydGw6IGZhbHNlLFxyXG5cclxuICAgICAgICBzbWFydFNwZWVkOiAyNTAsXHJcbiAgICAgICAgZmx1aWRTcGVlZDogZmFsc2UsXHJcbiAgICAgICAgZHJhZ0VuZFNwZWVkOiBmYWxzZSxcclxuXHJcbiAgICAgICAgcmVzcG9uc2l2ZToge30sXHJcbiAgICAgICAgcmVzcG9uc2l2ZVJlZnJlc2hSYXRlOiAyMDAsXHJcbiAgICAgICAgcmVzcG9uc2l2ZUJhc2VFbGVtZW50OiB3aW5kb3csXHJcblxyXG4gICAgICAgIGZhbGxiYWNrRWFzaW5nOiAnc3dpbmcnLFxyXG5cclxuICAgICAgICBpbmZvOiBmYWxzZSxcclxuXHJcbiAgICAgICAgbmVzdGVkSXRlbVNlbGVjdG9yOiBmYWxzZSxcclxuICAgICAgICBpdGVtRWxlbWVudDogJ2RpdicsXHJcbiAgICAgICAgc3RhZ2VFbGVtZW50OiAnZGl2JyxcclxuXHJcbiAgICAgICAgcmVmcmVzaENsYXNzOiAnb3dsLXJlZnJlc2gnLFxyXG4gICAgICAgIGxvYWRlZENsYXNzOiAnb3dsLWxvYWRlZCcsXHJcbiAgICAgICAgbG9hZGluZ0NsYXNzOiAnb3dsLWxvYWRpbmcnLFxyXG4gICAgICAgIHJ0bENsYXNzOiAnb3dsLXJ0bCcsXHJcbiAgICAgICAgcmVzcG9uc2l2ZUNsYXNzOiAnb3dsLXJlc3BvbnNpdmUnLFxyXG4gICAgICAgIGRyYWdDbGFzczogJ293bC1kcmFnJyxcclxuICAgICAgICBpdGVtQ2xhc3M6ICdvd2wtaXRlbScsXHJcbiAgICAgICAgc3RhZ2VDbGFzczogJ293bC1zdGFnZScsXHJcbiAgICAgICAgc3RhZ2VPdXRlckNsYXNzOiAnb3dsLXN0YWdlLW91dGVyJyxcclxuICAgICAgICBncmFiQ2xhc3M6ICdvd2wtZ3JhYidcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnVtZXJhdGlvbiBmb3Igd2lkdGguXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEBlbnVtIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIE93bC5XaWR0aCA9IHtcclxuICAgICAgICBEZWZhdWx0OiAnZGVmYXVsdCcsXHJcbiAgICAgICAgSW5uZXI6ICdpbm5lcicsXHJcbiAgICAgICAgT3V0ZXI6ICdvdXRlcidcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnVtZXJhdGlvbiBmb3IgdHlwZXMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqIEBlbnVtIHtTdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIE93bC5UeXBlID0ge1xyXG4gICAgICAgIEV2ZW50OiAnZXZlbnQnLFxyXG4gICAgICAgIFN0YXRlOiAnc3RhdGUnXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udGFpbnMgYWxsIHJlZ2lzdGVyZWQgcGx1Z2lucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLlBsdWdpbnMgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExpc3Qgb2Ygd29ya2VycyBpbnZvbHZlZCBpbiB0aGUgdXBkYXRlIHByb2Nlc3MuXHJcbiAgICAgKi9cclxuICAgIE93bC5Xb3JrZXJzID0gWyB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMuJGVsZW1lbnQud2lkdGgoKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmN1cnJlbnQgPSB0aGlzLl9pdGVtcyAmJiB0aGlzLl9pdGVtc1t0aGlzLnJlbGF0aXZlKHRoaXMuX2N1cnJlbnQpXTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbignLmNsb25lZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgdmFyIG1hcmdpbiA9IHRoaXMuc2V0dGluZ3MubWFyZ2luIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgZ3JpZCA9ICF0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCxcclxuICAgICAgICAgICAgICAgIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsLFxyXG4gICAgICAgICAgICAgICAgY3NzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLWxlZnQnOiBydGwgPyBtYXJnaW4gOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLXJpZ2h0JzogcnRsID8gJycgOiBtYXJnaW5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAhZ3JpZCAmJiB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmNzcyhjc3MpO1xyXG5cclxuICAgICAgICAgICAgY2FjaGUuY3NzID0gY3NzO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gKHRoaXMud2lkdGgoKSAvIHRoaXMuc2V0dGluZ3MuaXRlbXMpLnRvRml4ZWQoMykgLSB0aGlzLnNldHRpbmdzLm1hcmdpbixcclxuICAgICAgICAgICAgICAgIG1lcmdlID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGl0ZXJhdG9yID0gdGhpcy5faXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgZ3JpZCA9ICF0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCxcclxuICAgICAgICAgICAgICAgIHdpZHRocyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY2FjaGUuaXRlbXMgPSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGhcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChpdGVyYXRvci0tKSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZSA9IHRoaXMuX21lcmdlcnNbaXRlcmF0b3JdO1xyXG4gICAgICAgICAgICAgICAgbWVyZ2UgPSB0aGlzLnNldHRpbmdzLm1lcmdlRml0ICYmIE1hdGgubWluKG1lcmdlLCB0aGlzLnNldHRpbmdzLml0ZW1zKSB8fCBtZXJnZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYWNoZS5pdGVtcy5tZXJnZSA9IG1lcmdlID4gMSB8fCBjYWNoZS5pdGVtcy5tZXJnZTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aWR0aHNbaXRlcmF0b3JdID0gIWdyaWQgPyB0aGlzLl9pdGVtc1tpdGVyYXRvcl0ud2lkdGgoKSA6IHdpZHRoICogbWVyZ2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3dpZHRocyA9IHdpZHRocztcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmVzID0gW10sXHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IHRoaXMuX2l0ZW1zLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzLFxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogU2hvdWxkIGJlIGNvbXB1dGVkIGZyb20gbnVtYmVyIG9mIG1pbiB3aWR0aCBpdGVtcyBpbiBzdGFnZVxyXG4gICAgICAgICAgICAgICAgdmlldyA9IE1hdGgubWF4KHNldHRpbmdzLml0ZW1zICogMiwgNCksXHJcbiAgICAgICAgICAgICAgICBzaXplID0gTWF0aC5jZWlsKGl0ZW1zLmxlbmd0aCAvIDIpICogMixcclxuICAgICAgICAgICAgICAgIHJlcGVhdCA9IHNldHRpbmdzLmxvb3AgJiYgaXRlbXMubGVuZ3RoID8gc2V0dGluZ3MucmV3aW5kID8gdmlldyA6IE1hdGgubWF4KHZpZXcsIHNpemUpIDogMCxcclxuICAgICAgICAgICAgICAgIGFwcGVuZCA9ICcnLFxyXG4gICAgICAgICAgICAgICAgcHJlcGVuZCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgcmVwZWF0IC89IDI7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAocmVwZWF0LS0pIHtcclxuICAgICAgICAgICAgICAgIC8vIFN3aXRjaCB0byBvbmx5IHVzaW5nIGFwcGVuZGVkIGNsb25lc1xyXG4gICAgICAgICAgICAgICAgY2xvbmVzLnB1c2godGhpcy5ub3JtYWxpemUoY2xvbmVzLmxlbmd0aCAvIDIsIHRydWUpKTtcclxuICAgICAgICAgICAgICAgIGFwcGVuZCA9IGFwcGVuZCArIGl0ZW1zW2Nsb25lc1tjbG9uZXMubGVuZ3RoIC0gMV1dWzBdLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgIGNsb25lcy5wdXNoKHRoaXMubm9ybWFsaXplKGl0ZW1zLmxlbmd0aCAtIDEgLSAoY2xvbmVzLmxlbmd0aCAtIDEpIC8gMiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgcHJlcGVuZCA9IGl0ZW1zW2Nsb25lc1tjbG9uZXMubGVuZ3RoIC0gMV1dWzBdLm91dGVySFRNTCArIHByZXBlbmQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb25lcyA9IGNsb25lcztcclxuXHJcbiAgICAgICAgICAgICQoYXBwZW5kKS5hZGRDbGFzcygnY2xvbmVkJykuYXBwZW5kVG8odGhpcy4kc3RhZ2UpO1xyXG4gICAgICAgICAgICAkKHByZXBlbmQpLmFkZENsYXNzKCdjbG9uZWQnKS5wcmVwZW5kVG8odGhpcy4kc3RhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBydGwgPSB0aGlzLnNldHRpbmdzLnJ0bCA/IDEgOiAtMSxcclxuICAgICAgICAgICAgICAgIHNpemUgPSB0aGlzLl9jbG9uZXMubGVuZ3RoICsgdGhpcy5faXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSAtMSxcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gMCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAwLFxyXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlICgrK2l0ZXJhdG9yIDwgc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSBjb29yZGluYXRlc1tpdGVyYXRvciAtIDFdIHx8IDA7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5fd2lkdGhzW3RoaXMucmVsYXRpdmUoaXRlcmF0b3IpXSArIHRoaXMuc2V0dGluZ3MubWFyZ2luO1xyXG4gICAgICAgICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChwcmV2aW91cyArIGN1cnJlbnQgKiBydGwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb29yZGluYXRlcyA9IGNvb3JkaW5hdGVzO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcsXHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlcyA9IHRoaXMuX2Nvb3JkaW5hdGVzLFxyXG4gICAgICAgICAgICAgICAgY3NzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6IE1hdGguY2VpbChNYXRoLmFicyhjb29yZGluYXRlc1tjb29yZGluYXRlcy5sZW5ndGggLSAxXSkpICsgcGFkZGluZyAqIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctbGVmdCc6IHBhZGRpbmcgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctcmlnaHQnOiBwYWRkaW5nIHx8ICcnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY3NzKGNzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbihjYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSB0aGlzLiRzdGFnZS5jaGlsZHJlbigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdyaWQgJiYgY2FjaGUuaXRlbXMubWVyZ2UpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpdGVyYXRvci0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUuY3NzLndpZHRoID0gdGhpcy5fd2lkdGhzW3RoaXMucmVsYXRpdmUoaXRlcmF0b3IpXTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcy5lcShpdGVyYXRvcikuY3NzKGNhY2hlLmNzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ3JpZCkge1xyXG4gICAgICAgICAgICAgICAgY2FjaGUuY3NzLndpZHRoID0gY2FjaGUuaXRlbXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5jc3MoY2FjaGUuY3NzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ2l0ZW1zJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCA8IDEgJiYgdGhpcy4kc3RhZ2UucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIGNhY2hlLmN1cnJlbnQgPSBjYWNoZS5jdXJyZW50ID8gdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5pbmRleChjYWNoZS5jdXJyZW50KSA6IDA7XHJcbiAgICAgICAgICAgIGNhY2hlLmN1cnJlbnQgPSBNYXRoLm1heCh0aGlzLm1pbmltdW0oKSwgTWF0aC5taW4odGhpcy5tYXhpbXVtKCksIGNhY2hlLmN1cnJlbnQpKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNldChjYWNoZS5jdXJyZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICdwb3NpdGlvbicgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyh0aGlzLl9jdXJyZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAncG9zaXRpb24nLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsID8gMSA6IC0xLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZyA9IHRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nICogMixcclxuICAgICAgICAgICAgICAgIGJlZ2luID0gdGhpcy5jb29yZGluYXRlcyh0aGlzLmN1cnJlbnQoKSkgKyBwYWRkaW5nLFxyXG4gICAgICAgICAgICAgICAgZW5kID0gYmVnaW4gKyB0aGlzLndpZHRoKCkgKiBydGwsXHJcbiAgICAgICAgICAgICAgICBpbm5lciwgb3V0ZXIsIG1hdGNoZXMgPSBbXSwgaSwgbjtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIG4gPSB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlubmVyID0gdGhpcy5fY29vcmRpbmF0ZXNbaSAtIDFdIHx8IDA7XHJcbiAgICAgICAgICAgICAgICBvdXRlciA9IE1hdGguYWJzKHRoaXMuX2Nvb3JkaW5hdGVzW2ldKSArIHBhZGRpbmcgKiBydGw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLm9wKGlubmVyLCAnPD0nLCBiZWdpbikgJiYgKHRoaXMub3AoaW5uZXIsICc+JywgZW5kKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgKHRoaXMub3Aob3V0ZXIsICc8JywgYmVnaW4pICYmIHRoaXMub3Aob3V0ZXIsICc+JywgZW5kKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbignOmVxKCcgKyBtYXRjaGVzLmpvaW4oJyksIDplcSgnKSArICcpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbignLmNlbnRlcicpLnJlbW92ZUNsYXNzKCdjZW50ZXInKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5jdXJyZW50KCkpLmFkZENsYXNzKCdjZW50ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5lbnRlcignaW5pdGlhbGl6aW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdpbml0aWFsaXplJyk7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy5zZXR0aW5ncy5ydGxDbGFzcywgdGhpcy5zZXR0aW5ncy5ydGwpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvV2lkdGggJiYgIXRoaXMuaXMoJ3ByZS1sb2FkaW5nJykpIHtcclxuICAgICAgICAgICAgdmFyIGltZ3MsIG5lc3RlZFNlbGVjdG9yLCB3aWR0aDtcclxuICAgICAgICAgICAgaW1ncyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW1nJyk7XHJcbiAgICAgICAgICAgIG5lc3RlZFNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3IgPyAnLicgKyB0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvciA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgd2lkdGggPSB0aGlzLiRlbGVtZW50LmNoaWxkcmVuKG5lc3RlZFNlbGVjdG9yKS53aWR0aCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGltZ3MubGVuZ3RoICYmIHdpZHRoIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJlbG9hZEF1dG9XaWR0aEltYWdlcyhpbWdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGluZ0NsYXNzKTtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIHN0YWdlXHJcbiAgICAgICAgdGhpcy4kc3RhZ2UgPSAkKCc8JyArIHRoaXMuc2V0dGluZ3Muc3RhZ2VFbGVtZW50ICsgJyBjbGFzcz1cIicgKyB0aGlzLnNldHRpbmdzLnN0YWdlQ2xhc3MgKyAnXCIvPicpXHJcbiAgICAgICAgICAgIC53cmFwKCc8ZGl2IGNsYXNzPVwiJyArIHRoaXMuc2V0dGluZ3Muc3RhZ2VPdXRlckNsYXNzICsgJ1wiLz4nKTtcclxuXHJcbiAgICAgICAgLy8gYXBwZW5kIHN0YWdlXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hcHBlbmQodGhpcy4kc3RhZ2UucGFyZW50KCkpO1xyXG5cclxuICAgICAgICAvLyBhcHBlbmQgY29udGVudFxyXG4gICAgICAgIHRoaXMucmVwbGFjZSh0aGlzLiRlbGVtZW50LmNoaWxkcmVuKCkubm90KHRoaXMuJHN0YWdlLnBhcmVudCgpKSk7XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIHZpc2liaWxpdHlcclxuICAgICAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdmlld1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBpbnZhbGlkYXRlIHdpZHRoXHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnd2lkdGgnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnRcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGVkQ2xhc3MpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudEhhbmRsZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ2luaXRpYWxpemluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcignaW5pdGlhbGl6ZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXR1cHMgdGhlIGN1cnJlbnQgc2V0dGluZ3MuXHJcbiAgICAgKiBAdG9kbyBSZW1vdmUgcmVzcG9uc2l2ZSBjbGFzc2VzLiBXaHkgc2hvdWxkIGFkYXB0aXZlIGRlc2lnbnMgYmUgYnJvdWdodCBpbnRvIElFOD9cclxuICAgICAqIEB0b2RvIFN1cHBvcnQgZm9yIG1lZGlhIHF1ZXJpZXMgYnkgdXNpbmcgYG1hdGNoTWVkaWFgIHdvdWxkIGJlIG5pY2UuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0KCksXHJcbiAgICAgICAgICAgIG92ZXJ3cml0ZXMgPSB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSxcclxuICAgICAgICAgICAgbWF0Y2ggPSAtMSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoIW92ZXJ3cml0ZXMpIHtcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkLmVhY2gob3ZlcndyaXRlcywgZnVuY3Rpb24oYnJlYWtwb2ludCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJyZWFrcG9pbnQgPD0gdmlld3BvcnQgJiYgYnJlYWtwb2ludCA+IG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBOdW1iZXIoYnJlYWtwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCBvdmVyd3JpdGVzW21hdGNoXSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3Muc3RhZ2VQYWRkaW5nID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5zdGFnZVBhZGRpbmcgPSBzZXR0aW5ncy5zdGFnZVBhZGRpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWxldGUgc2V0dGluZ3MucmVzcG9uc2l2ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlc3BvbnNpdmUgY2xhc3NcclxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnJlc3BvbnNpdmVDbGFzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdjbGFzcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdjbGFzcycpLnJlcGxhY2UobmV3IFJlZ0V4cCgnKCcgKyB0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUNsYXNzICsgJy0pXFxcXFMrXFxcXHMnLCAnZycpLCAnJDEnICsgbWF0Y2gpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZScsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3NldHRpbmdzJywgdmFsdWU6IHNldHRpbmdzIH0gfSk7XHJcbiAgICAgICAgdGhpcy5fYnJlYWtwb2ludCA9IG1hdGNoO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ3NldHRpbmdzJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2VkJywgeyBwcm9wZXJ0eTogeyBuYW1lOiAnc2V0dGluZ3MnLCB2YWx1ZTogdGhpcy5zZXR0aW5ncyB9IH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgb3B0aW9uIGxvZ2ljIGlmIG5lY2Vzc2VyeS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vcHRpb25zTG9naWMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5tZXJnZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwYXJlcyBhbiBpdGVtIGJlZm9yZSBhZGQuXHJcbiAgICAgKiBAdG9kbyBSZW5hbWUgZXZlbnQgcGFyYW1ldGVyIGBjb250ZW50YCB0byBgaXRlbWAuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fEhUTUxFbGVtZW50fSAtIFRoZSBpdGVtIGNvbnRhaW5lci5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wcmVwYXJlID0gZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgIHZhciBldmVudCA9IHRoaXMudHJpZ2dlcigncHJlcGFyZScsIHsgY29udGVudDogaXRlbSB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFldmVudC5kYXRhKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LmRhdGEgPSAkKCc8JyArIHRoaXMuc2V0dGluZ3MuaXRlbUVsZW1lbnQgKyAnLz4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMub3B0aW9ucy5pdGVtQ2xhc3MpLmFwcGVuZChpdGVtKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdwcmVwYXJlZCcsIHsgY29udGVudDogZXZlbnQuZGF0YSB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgdmlldy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgIG4gPSB0aGlzLl9waXBlLmxlbmd0aCxcclxuICAgICAgICAgICAgZmlsdGVyID0gJC5wcm94eShmdW5jdGlvbihwKSB7IHJldHVybiB0aGlzW3BdIH0sIHRoaXMuX2ludmFsaWRhdGVkKSxcclxuICAgICAgICAgICAgY2FjaGUgPSB7fTtcclxuXHJcbiAgICAgICAgd2hpbGUgKGkgPCBuKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnZhbGlkYXRlZC5hbGwgfHwgJC5ncmVwKHRoaXMuX3BpcGVbaV0uZmlsdGVyLCBmaWx0ZXIpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BpcGVbaV0ucnVuKGNhY2hlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlZCA9IHt9O1xyXG5cclxuICAgICAgICAhdGhpcy5pcygndmFsaWQnKSAmJiB0aGlzLmVudGVyKCd2YWxpZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHdpZHRoIG9mIHRoZSB2aWV3LlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtPd2wuV2lkdGh9IFtkaW1lbnNpb249T3dsLldpZHRoLkRlZmF1bHRdIC0gVGhlIGRpbWVuc2lvbiB0byByZXR1cm4uXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSB3aWR0aCBvZiB0aGUgdmlldyBpbiBwaXhlbC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uKGRpbWVuc2lvbikge1xyXG4gICAgICAgIGRpbWVuc2lvbiA9IGRpbWVuc2lvbiB8fCBPd2wuV2lkdGguRGVmYXVsdDtcclxuICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbikge1xyXG4gICAgICAgICAgICBjYXNlIE93bC5XaWR0aC5Jbm5lcjpcclxuICAgICAgICAgICAgY2FzZSBPd2wuV2lkdGguT3V0ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGggLSB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyAqIDIgKyB0aGlzLnNldHRpbmdzLm1hcmdpbjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVmcmVzaGVzIHRoZSBjYXJvdXNlbCBwcmltYXJpbHkgZm9yIGFkYXB0aXZlIHB1cnBvc2VzLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmVudGVyKCdyZWZyZXNoaW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZWZyZXNoJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zTG9naWMoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZWF2ZSgncmVmcmVzaGluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVmcmVzaGVkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdpbmRvdyBgcmVzaXplYCBldmVudC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vblRocm90dGxlZFJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lcik7XHJcbiAgICAgICAgdGhpcy5yZXNpemVUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX2hhbmRsZXJzLm9uUmVzaXplLCB0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmVSZWZyZXNoUmF0ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdpbmRvdyBgcmVzaXplYCBldmVudC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCA9PT0gdGhpcy4kZWxlbWVudC53aWR0aCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVudGVyKCdyZXNpemluZycpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50cmlnZ2VyKCdyZXNpemUnKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxlYXZlKCdyZXNpemluZycpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ3dpZHRoJyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG5cclxuICAgICAgICB0aGlzLmxlYXZlKCdyZXNpemluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVzaXplZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVycyBldmVudCBoYW5kbGVycy5cclxuICAgICAqIEB0b2RvIENoZWNrIGBtc1BvaW50ZXJFbmFibGVkYFxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5vbigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQgKyAnLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uVHJhbnNpdGlvbkVuZCwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5vbih3aW5kb3csICdyZXNpemUnLCB0aGlzLl9oYW5kbGVycy5vblRocm90dGxlZFJlc2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5tb3VzZURyYWcpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZHJhZ0NsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2Uub24oJ21vdXNlZG93bi5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdTdGFydCwgdGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5vbignZHJhZ3N0YXJ0Lm93bC5jb3JlIHNlbGVjdHN0YXJ0Lm93bC5jb3JlJywgZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnRvdWNoRHJhZyl7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCd0b3VjaHN0YXJ0Lm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCd0b3VjaGNhbmNlbC5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdFbmQsIHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBgdG91Y2hzdGFydGAgYW5kIGBtb3VzZWRvd25gIGV2ZW50cy5cclxuICAgICAqIEB0b2RvIEhvcml6b250YWwgc3dpcGUgdGhyZXNob2xkIGFzIG9wdGlvblxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgc3RhZ2UgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgc3RhZ2UgPSB0aGlzLiRzdGFnZS5jc3MoJ3RyYW5zZm9ybScpLnJlcGxhY2UoLy4qXFwofFxcKXwgL2csICcnKS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICBzdGFnZSA9IHtcclxuICAgICAgICAgICAgICAgIHg6IHN0YWdlW3N0YWdlLmxlbmd0aCA9PT0gMTYgPyAxMiA6IDRdLFxyXG4gICAgICAgICAgICAgICAgeTogc3RhZ2Vbc3RhZ2UubGVuZ3RoID09PSAxNiA/IDEzIDogNV1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuJHN0YWdlLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIHN0YWdlID0ge1xyXG4gICAgICAgICAgICAgICAgeDogdGhpcy5zZXR0aW5ncy5ydGwgP1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlLmxlZnQgKyB0aGlzLiRzdGFnZS53aWR0aCgpIC0gdGhpcy53aWR0aCgpICsgdGhpcy5zZXR0aW5ncy5tYXJnaW4gOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlLmxlZnQsXHJcbiAgICAgICAgICAgICAgICB5OiBzdGFnZS50b3BcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzKCdhbmltYXRpbmcnKSkge1xyXG4gICAgICAgICAgICAkLnN1cHBvcnQudHJhbnNmb3JtID8gdGhpcy5hbmltYXRlKHN0YWdlLngpIDogdGhpcy4kc3RhZ2Uuc3RvcCgpXHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcywgZXZlbnQudHlwZSA9PT0gJ21vdXNlZG93bicpO1xyXG5cclxuICAgICAgICB0aGlzLnNwZWVkKDApO1xyXG5cclxuICAgICAgICB0aGlzLl9kcmFnLnRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICB0aGlzLl9kcmFnLnRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICB0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0ID0gc3RhZ2U7XHJcbiAgICAgICAgdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50ID0gc3RhZ2U7XHJcbiAgICAgICAgdGhpcy5fZHJhZy5wb2ludGVyID0gdGhpcy5wb2ludGVyKGV2ZW50KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ21vdXNldXAub3dsLmNvcmUgdG91Y2hlbmQub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25EcmFnRW5kLCB0aGlzKSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uZSgnbW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZScsICQucHJveHkoZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIGRlbHRhID0gdGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlciwgdGhpcy5wb2ludGVyKGV2ZW50KSk7XHJcblxyXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignbW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdNb3ZlLCB0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEueCkgPCBNYXRoLmFicyhkZWx0YS55KSAmJiB0aGlzLmlzKCd2YWxpZCcpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVudGVyKCdkcmFnZ2luZycpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2RyYWcnKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgYHRvdWNobW92ZWAgYW5kIGBtb3VzZW1vdmVgIGV2ZW50cy5cclxuICAgICAqIEB0b2RvICMyNjFcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vbkRyYWdNb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgbWluaW11bSA9IG51bGwsXHJcbiAgICAgICAgICAgIG1heGltdW0gPSBudWxsLFxyXG4gICAgICAgICAgICBwdWxsID0gbnVsbCxcclxuICAgICAgICAgICAgZGVsdGEgPSB0aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLCB0aGlzLnBvaW50ZXIoZXZlbnQpKSxcclxuICAgICAgICAgICAgc3RhZ2UgPSB0aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5zdGFnZS5zdGFydCwgZGVsdGEpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXMoJ2RyYWdnaW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubG9vcCkge1xyXG4gICAgICAgICAgICBtaW5pbXVtID0gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSk7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWF4aW11bSgpICsgMSkgLSBtaW5pbXVtO1xyXG4gICAgICAgICAgICBzdGFnZS54ID0gKCgoc3RhZ2UueCAtIG1pbmltdW0pICUgbWF4aW11bSArIG1heGltdW0pICUgbWF4aW11bSkgKyBtaW5pbXVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1pbmltdW0gPSB0aGlzLnNldHRpbmdzLnJ0bCA/IHRoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkpIDogdGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSk7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLnNldHRpbmdzLnJ0bCA/IHRoaXMuY29vcmRpbmF0ZXModGhpcy5taW5pbXVtKCkpIDogdGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSk7XHJcbiAgICAgICAgICAgIHB1bGwgPSB0aGlzLnNldHRpbmdzLnB1bGxEcmFnID8gLTEgKiBkZWx0YS54IC8gNSA6IDA7XHJcbiAgICAgICAgICAgIHN0YWdlLnggPSBNYXRoLm1heChNYXRoLm1pbihzdGFnZS54LCBtaW5pbXVtICsgcHVsbCksIG1heGltdW0gKyBwdWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2RyYWcuc3RhZ2UuY3VycmVudCA9IHN0YWdlO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGUoc3RhZ2UueCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgYHRvdWNoZW5kYCBhbmQgYG1vdXNldXBgIGV2ZW50cy5cclxuICAgICAqIEB0b2RvICMyNjFcclxuICAgICAqIEB0b2RvIFRocmVzaG9sZCBmb3IgY2xpY2sgZXZlbnRcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vbkRyYWdFbmQgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBkZWx0YSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnBvaW50ZXIsIHRoaXMucG9pbnRlcihldmVudCkpLFxyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuX2RyYWcuc3RhZ2UuY3VycmVudCxcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gZGVsdGEueCA+IDAgXiB0aGlzLnNldHRpbmdzLnJ0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignLm93bC5jb3JlJyk7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcyk7XHJcblxyXG4gICAgICAgIGlmIChkZWx0YS54ICE9PSAwICYmIHRoaXMuaXMoJ2RyYWdnaW5nJykgfHwgIXRoaXMuaXMoJ3ZhbGlkJykpIHtcclxuICAgICAgICAgICAgdGhpcy5zcGVlZCh0aGlzLnNldHRpbmdzLmRyYWdFbmRTcGVlZCB8fCB0aGlzLnNldHRpbmdzLnNtYXJ0U3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQodGhpcy5jbG9zZXN0KHN0YWdlLngsIGRlbHRhLnggIT09IDAgPyBkaXJlY3Rpb24gOiB0aGlzLl9kcmFnLmRpcmVjdGlvbikpO1xyXG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoJ3Bvc2l0aW9uJyk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9kcmFnLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YS54KSA+IDMgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLl9kcmFnLnRpbWUgPiAzMDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RyYWcudGFyZ2V0Lm9uZSgnY2xpY2sub3dsLmNvcmUnLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzKCdkcmFnZ2luZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdkcmFnZ2VkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY2xvc2VzdCBpdGVtIGZvciBhIGNvb3JkaW5hdGUuXHJcbiAgICAgKiBAdG9kbyBTZXR0aW5nIGBmcmVlRHJhZ2AgbWFrZXMgYGNsb3Nlc3RgIG5vdCByZXVzYWJsZS4gU2VlICMxNjUuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29vcmRpbmF0ZSAtIFRoZSBjb29yZGluYXRlIGluIHBpeGVsLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiAtIFRoZSBkaXJlY3Rpb24gdG8gY2hlY2sgZm9yIHRoZSBjbG9zZXN0IGl0ZW0uIEV0aGVyIGBsZWZ0YCBvciBgcmlnaHRgLlxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY2xvc2VzdCBpdGVtLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbihjb29yZGluYXRlLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICB2YXIgcG9zaXRpb24gPSAtMSxcclxuICAgICAgICAgICAgcHVsbCA9IDMwLFxyXG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMud2lkdGgoKSxcclxuICAgICAgICAgICAgY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzKCk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5mcmVlRHJhZykge1xyXG4gICAgICAgICAgICAvLyBjaGVjayBjbG9zZXN0IGl0ZW1cclxuICAgICAgICAgICAgJC5lYWNoKGNvb3JkaW5hdGVzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gb24gYSBsZWZ0IHB1bGwsIGNoZWNrIG9uIGN1cnJlbnQgbWFpbi1wYWdlLXBhZ2VcclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdsZWZ0JyAmJiBjb29yZGluYXRlID4gdmFsdWUgLSBwdWxsICYmIGNvb3JkaW5hdGUgPCB2YWx1ZSArIHB1bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uIGEgcmlnaHQgcHVsbCwgY2hlY2sgb24gcHJldmlvdXMgbWFpbi1wYWdlLXBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAvLyB0byBkbyBzbywgc3VidHJhY3Qgd2lkdGggZnJvbSB2YWx1ZSBhbmQgc2V0IHBvc2l0aW9uID0gbWFpbi1wYWdlLXBhZ2UgKyAxXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyAmJiBjb29yZGluYXRlID4gdmFsdWUgLSB3aWR0aCAtIHB1bGwgJiYgY29vcmRpbmF0ZSA8IHZhbHVlIC0gd2lkdGggKyBwdWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3AoY29vcmRpbmF0ZSwgJzwnLCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLm9wKGNvb3JkaW5hdGUsICc+JywgY29vcmRpbmF0ZXNbaW5kZXggKyAxXSB8fCB2YWx1ZSAtIHdpZHRoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gZGlyZWN0aW9uID09PSAnbGVmdCcgPyBpbmRleCArIDEgOiBpbmRleDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbiA9PT0gLTE7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5sb29wKSB7XHJcbiAgICAgICAgICAgIC8vIG5vbiBsb29wIGJvdW5kcmllc1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPicsIGNvb3JkaW5hdGVzW3RoaXMubWluaW11bSgpXSkpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29vcmRpbmF0ZSA9IHRoaXMubWluaW11bSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3AoY29vcmRpbmF0ZSwgJzwnLCBjb29yZGluYXRlc1t0aGlzLm1heGltdW0oKV0pKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGNvb3JkaW5hdGUgPSB0aGlzLm1heGltdW0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFuaW1hdGVzIHRoZSBzdGFnZS5cclxuICAgICAqIEB0b2RvICMyNzBcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb29yZGluYXRlIC0gVGhlIGNvb3JkaW5hdGUgaW4gcGl4ZWxzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbihjb29yZGluYXRlKSB7XHJcbiAgICAgICAgdmFyIGFuaW1hdGUgPSB0aGlzLnNwZWVkKCkgPiAwO1xyXG5cclxuICAgICAgICB0aGlzLmlzKCdhbmltYXRpbmcnKSAmJiB0aGlzLm9uVHJhbnNpdGlvbkVuZCgpO1xyXG5cclxuICAgICAgICBpZiAoYW5pbWF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyKCdhbmltYXRpbmcnKTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCd0cmFuc2xhdGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgkLnN1cHBvcnQudHJhbnNmb3JtM2QgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY3NzKHtcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyBjb29yZGluYXRlICsgJ3B4LDBweCwwcHgpJyxcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICh0aGlzLnNwZWVkKCkgLyAxMDAwKSArICdzJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGFuaW1hdGUpIHtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBjb29yZGluYXRlICsgJ3B4J1xyXG4gICAgICAgICAgICB9LCB0aGlzLnNwZWVkKCksIHRoaXMuc2V0dGluZ3MuZmFsbGJhY2tFYXNpbmcsICQucHJveHkodGhpcy5vblRyYW5zaXRpb25FbmQsIHRoaXMpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgbGVmdDogY29vcmRpbmF0ZSArICdweCdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBjYXJvdXNlbCBpcyBpbiBhIHNwZWNpZmljIHN0YXRlIG9yIG5vdC5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBjaGVjay5cclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSAtIFRoZSBmbGFnIHdoaWNoIGluZGljYXRlcyBpZiB0aGUgY2Fyb3VzZWwgaXMgYnVzeS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlcy5jdXJyZW50W3N0YXRlXSAmJiB0aGlzLl9zdGF0ZXMuY3VycmVudFtzdGF0ZV0gPiAwO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSBuZXcgYWJzb2x1dGUgcG9zaXRpb24gb3Igbm90aGluZyB0byBsZWF2ZSBpdCB1bmNoYW5nZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmN1cnJlbnQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50ICE9PSBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLnRyaWdnZXIoJ2NoYW5nZScsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3Bvc2l0aW9uJywgdmFsdWU6IHBvc2l0aW9uIH0gfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gcG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoJ3Bvc2l0aW9uJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZWQnLCB7IHByb3BlcnR5OiB7IG5hbWU6ICdwb3NpdGlvbicsIHZhbHVlOiB0aGlzLl9jdXJyZW50IH0gfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VycmVudDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgZ2l2ZW4gcGFydCBvZiB0aGUgdXBkYXRlIHJvdXRpbmUuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3BhcnRdIC0gVGhlIHBhcnQgdG8gaW52YWxpZGF0ZS5cclxuICAgICAqIEByZXR1cm5zIHtBcnJheS48U3RyaW5nPn0gLSBUaGUgaW52YWxpZGF0ZWQgcGFydHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uKHBhcnQpIHtcclxuICAgICAgICBpZiAoJC50eXBlKHBhcnQpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlZFtwYXJ0XSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaXMoJ3ZhbGlkJykgJiYgdGhpcy5sZWF2ZSgndmFsaWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICQubWFwKHRoaXMuX2ludmFsaWRhdGVkLCBmdW5jdGlvbih2LCBpKSB7IHJldHVybiBpIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgbmV3IGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUocG9zaXRpb24pO1xyXG5cclxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9zcGVlZCA9IDA7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudCA9IHBvc2l0aW9uO1xyXG5cclxuICAgICAgICB0aGlzLnN1cHByZXNzKFsgJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGVkJyBdKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRlKHRoaXMuY29vcmRpbmF0ZXMocG9zaXRpb24pKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWxlYXNlKFsgJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGVkJyBdKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3JtYWxpemVzIGFuIGFic29sdXRlIG9yIGEgcmVsYXRpdmUgcG9zaXRpb24gb2YgYW4gaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBvciByZWxhdGl2ZSBwb3NpdGlvbiB0byBub3JtYWxpemUuXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRoZSBnaXZlbiBwb3NpdGlvbiBpcyByZWxhdGl2ZSBvciBub3QuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBub3JtYWxpemVkIHBvc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCByZWxhdGl2ZSkge1xyXG4gICAgICAgIHZhciBuID0gdGhpcy5faXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBtID0gcmVsYXRpdmUgPyAwIDogdGhpcy5fY2xvbmVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzTnVtZXJpYyhwb3NpdGlvbikgfHwgbiA8IDEpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gbiArIG0pIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAoKHBvc2l0aW9uIC0gbSAvIDIpICUgbiArIG4pICUgbiArIG0gLyAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGFuIGFic29sdXRlIHBvc2l0aW9uIG9mIGFuIGl0ZW0gaW50byBhIHJlbGF0aXZlIG9uZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiB0byBjb252ZXJ0LlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgY29udmVydGVkIHBvc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlbGF0aXZlID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBwb3NpdGlvbiAtPSB0aGlzLl9jbG9uZXMubGVuZ3RoIC8gMjtcclxuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUocG9zaXRpb24sIHRydWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG1heGltdW0gcG9zaXRpb24gZm9yIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHJldHVybiBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBvciBhIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5tYXhpbXVtID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcclxuICAgICAgICB2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzLFxyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBpdGVyYXRvcixcclxuICAgICAgICAgICAgcmVjaXByb2NhbEl0ZW1zV2lkdGgsXHJcbiAgICAgICAgICAgIGVsZW1lbnRXaWR0aDtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyICsgdGhpcy5faXRlbXMubGVuZ3RoIC0gMTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5tZXJnZSkge1xyXG4gICAgICAgICAgICBpdGVyYXRvciA9IHRoaXMuX2l0ZW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgcmVjaXByb2NhbEl0ZW1zV2lkdGggPSB0aGlzLl9pdGVtc1stLWl0ZXJhdG9yXS53aWR0aCgpO1xyXG4gICAgICAgICAgICBlbGVtZW50V2lkdGggPSB0aGlzLiRlbGVtZW50LndpZHRoKCk7XHJcbiAgICAgICAgICAgIHdoaWxlIChpdGVyYXRvci0tKSB7XHJcbiAgICAgICAgICAgICAgICByZWNpcHJvY2FsSXRlbXNXaWR0aCArPSB0aGlzLl9pdGVtc1tpdGVyYXRvcl0ud2lkdGgoKSArIHRoaXMuc2V0dGluZ3MubWFyZ2luO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY2lwcm9jYWxJdGVtc1dpZHRoID4gZWxlbWVudFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF4aW11bSA9IGl0ZXJhdG9yICsgMTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNldHRpbmdzLmNlbnRlcikge1xyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5faXRlbXMubGVuZ3RoIC0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5faXRlbXMubGVuZ3RoIC0gc2V0dGluZ3MuaXRlbXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVsYXRpdmUpIHtcclxuICAgICAgICAgICAgbWF4aW11bSAtPSB0aGlzLl9jbG9uZXMubGVuZ3RoIC8gMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLm1heChtYXhpbXVtLCAwKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBtaW5pbXVtIHBvc2l0aW9uIGZvciB0aGUgY3VycmVudCBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmVsYXRpdmU9ZmFsc2VdIC0gV2hldGhlciB0byByZXR1cm4gYW4gYWJzb2x1dGUgcG9zaXRpb24gb3IgYSByZWxhdGl2ZSBwb3NpdGlvbi5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubWluaW11bSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlbGF0aXZlID8gMCA6IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl8QXJyYXkuPGpRdWVyeT59IC0gVGhlIGl0ZW0gYXQgdGhlIGdpdmVuIHBvc2l0aW9uIG9yIGFsbCBpdGVtcyBpZiBubyBwb3NpdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuaXRlbXMgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5zbGljZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFuIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCByZWxhdGl2ZSBwb3NpdGlvbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBpdGVtLlxyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fEFycmF5LjxqUXVlcnk+fSAtIFRoZSBpdGVtIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBvciBhbGwgaXRlbXMgaWYgbm8gcG9zaXRpb24gd2FzIGdpdmVuLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm1lcmdlcnMgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZXJnZXJzLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWVyZ2Vyc1twb3NpdGlvbl07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb25zIG9mIGNsb25lcyBmb3IgYW4gaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBpdGVtLlxyXG4gICAgICogQHJldHVybnMge0FycmF5LjxOdW1iZXI+fSAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbnMgb2YgY2xvbmVzIGZvciB0aGUgaXRlbSBvciBhbGwgaWYgbm8gcG9zaXRpb24gd2FzIGdpdmVuLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmNsb25lcyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIG9kZCA9IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyLFxyXG4gICAgICAgICAgICBldmVuID0gb2RkICsgdGhpcy5faXRlbXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBtYXAgPSBmdW5jdGlvbihpbmRleCkgeyByZXR1cm4gaW5kZXggJSAyID09PSAwID8gZXZlbiArIGluZGV4IC8gMiA6IG9kZCAtIChpbmRleCArIDEpIC8gMiB9O1xyXG5cclxuICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJC5tYXAodGhpcy5fY2xvbmVzLCBmdW5jdGlvbih2LCBpKSB7IHJldHVybiBtYXAoaSkgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJC5tYXAodGhpcy5fY2xvbmVzLCBmdW5jdGlvbih2LCBpKSB7IHJldHVybiB2ID09PSBwb3NpdGlvbiA/IG1hcChpKSA6IG51bGwgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBhbmltYXRpb24gc3BlZWQuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSBhbmltYXRpb24gc3BlZWQgaW4gbWlsbGlzZWNvbmRzIG9yIG5vdGhpbmcgdG8gbGVhdmUgaXQgdW5jaGFuZ2VkLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgY3VycmVudCBhbmltYXRpb24gc3BlZWQgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnNwZWVkID0gZnVuY3Rpb24oc3BlZWQpIHtcclxuICAgICAgICBpZiAoc3BlZWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGNvb3JkaW5hdGUgb2YgYW4gaXRlbS5cclxuICAgICAqIEB0b2RvIFRoZSBuYW1lIG9mIHRoaXMgbWV0aG9kIGlzIG1pc3NsZWFuZGluZy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSB3aXRoaW4gYG1pbmltdW0oKWAgYW5kIGBtYXhpbXVtKClgLlxyXG4gICAgICogQHJldHVybnMge051bWJlcnxBcnJheS48TnVtYmVyPn0gLSBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgaXRlbSBpbiBwaXhlbCBvciBhbGwgY29vcmRpbmF0ZXMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY29vcmRpbmF0ZXMgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciBtdWx0aXBsaWVyID0gMSxcclxuICAgICAgICAgICAgbmV3UG9zaXRpb24gPSBwb3NpdGlvbiAtIDEsXHJcbiAgICAgICAgICAgIGNvb3JkaW5hdGU7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkLm1hcCh0aGlzLl9jb29yZGluYXRlcywgJC5wcm94eShmdW5jdGlvbihjb29yZGluYXRlLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29vcmRpbmF0ZXMoaW5kZXgpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucnRsKSB7XHJcbiAgICAgICAgICAgICAgICBtdWx0aXBsaWVyID0gLTE7XHJcbiAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbiA9IHBvc2l0aW9uICsgMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29vcmRpbmF0ZSA9IHRoaXMuX2Nvb3JkaW5hdGVzW3Bvc2l0aW9uXTtcclxuICAgICAgICAgICAgY29vcmRpbmF0ZSArPSAodGhpcy53aWR0aCgpIC0gY29vcmRpbmF0ZSArICh0aGlzLl9jb29yZGluYXRlc1tuZXdQb3NpdGlvbl0gfHwgMCkpIC8gMiAqIG11bHRpcGxpZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29vcmRpbmF0ZSA9IHRoaXMuX2Nvb3JkaW5hdGVzW25ld1Bvc2l0aW9uXSB8fCAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29vcmRpbmF0ZSA9IE1hdGguY2VpbChjb29yZGluYXRlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgc3BlZWQgZm9yIGEgdHJhbnNsYXRpb24uXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZnJvbSAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgc3RhcnQgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0byAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgdGFyZ2V0IGl0ZW0uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2ZhY3Rvcj11bmRlZmluZWRdIC0gVGhlIHRpbWUgZmFjdG9yIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNsYXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbihmcm9tLCB0bywgZmFjdG9yKSB7XHJcbiAgICAgICAgaWYgKGZhY3RvciA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChNYXRoLmFicyh0byAtIGZyb20pLCAxKSwgNikgKiBNYXRoLmFicygoZmFjdG9yIHx8IHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyB0byB0aGUgc3BlY2lmaWVkIGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbihwb3NpdGlvbiwgc3BlZWQpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuY3VycmVudCgpLFxyXG4gICAgICAgICAgICByZXZlcnQgPSBudWxsLFxyXG4gICAgICAgICAgICBkaXN0YW5jZSA9IHBvc2l0aW9uIC0gdGhpcy5yZWxhdGl2ZShjdXJyZW50KSxcclxuICAgICAgICAgICAgZGlyZWN0aW9uID0gKGRpc3RhbmNlID4gMCkgLSAoZGlzdGFuY2UgPCAwKSxcclxuICAgICAgICAgICAgaXRlbXMgPSB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG1pbmltdW0gPSB0aGlzLm1pbmltdW0oKSxcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMubWF4aW11bSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5sb29wKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5yZXdpbmQgJiYgTWF0aC5hYnMoZGlzdGFuY2UpID4gaXRlbXMgLyAyKSB7XHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSArPSBkaXJlY3Rpb24gKiAtMSAqIGl0ZW1zO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IGN1cnJlbnQgKyBkaXN0YW5jZTtcclxuICAgICAgICAgICAgcmV2ZXJ0ID0gKChwb3NpdGlvbiAtIG1pbmltdW0pICUgaXRlbXMgKyBpdGVtcykgJSBpdGVtcyArIG1pbmltdW07XHJcblxyXG4gICAgICAgICAgICBpZiAocmV2ZXJ0ICE9PSBwb3NpdGlvbiAmJiByZXZlcnQgLSBkaXN0YW5jZSA8PSBtYXhpbXVtICYmIHJldmVydCAtIGRpc3RhbmNlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHJldmVydCAtIGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSByZXZlcnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KGN1cnJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNldHRpbmdzLnJld2luZCkge1xyXG4gICAgICAgICAgICBtYXhpbXVtICs9IDE7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gKHBvc2l0aW9uICUgbWF4aW11bSArIG1heGltdW0pICUgbWF4aW11bTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IE1hdGgubWF4KG1pbmltdW0sIE1hdGgubWluKG1heGltdW0sIHBvc2l0aW9uKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwZWVkKHRoaXMuZHVyYXRpb24oY3VycmVudCwgcG9zaXRpb24sIHNwZWVkKSk7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50KHBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBuZXh0IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgc3BlZWQgPSBzcGVlZCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLnRvKHRoaXMucmVsYXRpdmUodGhpcy5jdXJyZW50KCkpICsgMSwgc3BlZWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyB0byB0aGUgcHJldmlvdXMgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24oc3BlZWQpIHtcclxuICAgICAgICBzcGVlZCA9IHNwZWVkIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudG8odGhpcy5yZWxhdGl2ZSh0aGlzLmN1cnJlbnQoKSkgLSAxLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgZW5kIG9mIGFuIGFuaW1hdGlvbi5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vblRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbihldmVudCkge1xyXG5cclxuICAgICAgICAvLyBpZiBjc3MyIGFuaW1hdGlvbiB0aGVuIGV2ZW50IG9iamVjdCBpcyB1bmRlZmluZWRcclxuICAgICAgICBpZiAoZXZlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENhdGNoIG9ubHkgb3dsLXN0YWdlIHRyYW5zaXRpb25FbmQgZXZlbnRcclxuICAgICAgICAgICAgaWYgKChldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCB8fCBldmVudC5vcmlnaW5hbFRhcmdldCkgIT09IHRoaXMuJHN0YWdlLmdldCgwKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxlYXZlKCdhbmltYXRpbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3RyYW5zbGF0ZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHZpZXdwb3J0IHdpZHRoLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSAtIFRoZSB3aWR0aCBpbiBwaXhlbC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS52aWV3cG9ydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB3aWR0aDtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmVCYXNlRWxlbWVudCAhPT0gd2luZG93KSB7XHJcbiAgICAgICAgICAgIHdpZHRoID0gJCh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50KS53aWR0aCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGgpIHtcclxuICAgICAgICAgICAgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIHtcclxuICAgICAgICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDYW4gbm90IGRldGVjdCB2aWV3cG9ydCB3aWR0aC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIHRoZSBjdXJyZW50IGNvbnRlbnQuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fGpRdWVyeXxTdHJpbmd9IGNvbnRlbnQgLSBUaGUgbmV3IGNvbnRlbnQuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcclxuICAgICAgICB0aGlzLiRzdGFnZS5lbXB0eSgpO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XHJcblxyXG4gICAgICAgIGlmIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAoY29udGVudCBpbnN0YW5jZW9mIGpRdWVyeSkgPyBjb250ZW50IDogJChjb250ZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3Rvcikge1xyXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5maW5kKCcuJyArIHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRlbnQuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlVHlwZSA9PT0gMTtcclxuICAgICAgICB9KS5lYWNoKCQucHJveHkoZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbSA9IHRoaXMucHJlcGFyZShpdGVtKTtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuYXBwZW5kKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXJnZXJzLnB1c2goaXRlbS5maW5kKCdbZGF0YS1tZXJnZV0nKS5hZGRCYWNrKCdbZGF0YS1tZXJnZV0nKS5hdHRyKCdkYXRhLW1lcmdlJykgKiAxIHx8IDEpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNldCh0aGlzLmlzTnVtZXJpYyh0aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24pID8gdGhpcy5zZXR0aW5ncy5zdGFydFBvc2l0aW9uIDogMCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnaXRlbXMnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGFuIGl0ZW0uXHJcbiAgICAgKiBAdG9kbyBVc2UgYGl0ZW1gIGluc3RlYWQgb2YgYGNvbnRlbnRgIGZvciB0aGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxqUXVlcnl8U3RyaW5nfSBjb250ZW50IC0gVGhlIGl0ZW0gY29udGVudCB0byBhZGQuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBhdCB3aGljaCB0byBpbnNlcnQgdGhlIGl0ZW0gb3RoZXJ3aXNlIHRoZSBpdGVtIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVuZC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihjb250ZW50LCBwb3NpdGlvbikge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5yZWxhdGl2ZSh0aGlzLl9jdXJyZW50KTtcclxuXHJcbiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkID8gdGhpcy5faXRlbXMubGVuZ3RoIDogdGhpcy5ub3JtYWxpemUocG9zaXRpb24sIHRydWUpO1xyXG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGVudCA6ICQoY29udGVudCk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcignYWRkJywgeyBjb250ZW50OiBjb250ZW50LCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XHJcblxyXG4gICAgICAgIGNvbnRlbnQgPSB0aGlzLnByZXBhcmUoY29udGVudCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9pdGVtcy5sZW5ndGggPT09IDAgfHwgcG9zaXRpb24gPT09IHRoaXMuX2l0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5sZW5ndGggPT09IDAgJiYgdGhpcy4kc3RhZ2UuYXBwZW5kKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5sZW5ndGggIT09IDAgJiYgdGhpcy5faXRlbXNbcG9zaXRpb24gLSAxXS5hZnRlcihjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5faXRlbXMucHVzaChjb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5fbWVyZ2Vycy5wdXNoKGNvbnRlbnQuZmluZCgnW2RhdGEtbWVyZ2VdJykuYWRkQmFjaygnW2RhdGEtbWVyZ2VdJykuYXR0cignZGF0YS1tZXJnZScpICogMSB8fCAxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtc1twb3NpdGlvbl0uYmVmb3JlKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5zcGxpY2UocG9zaXRpb24sIDAsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXJnZXJzLnNwbGljZShwb3NpdGlvbiwgMCwgY29udGVudC5maW5kKCdbZGF0YS1tZXJnZV0nKS5hZGRCYWNrKCdbZGF0YS1tZXJnZV0nKS5hdHRyKCdkYXRhLW1lcmdlJykgKiAxIHx8IDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faXRlbXNbY3VycmVudF0gJiYgdGhpcy5yZXNldCh0aGlzLl9pdGVtc1tjdXJyZW50XS5pbmRleCgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCdpdGVtcycpO1xyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2FkZGVkJywgeyBjb250ZW50OiBjb250ZW50LCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGJ5IGl0cyBwb3NpdGlvbi5cclxuICAgICAqIEB0b2RvIFVzZSBgaXRlbWAgaW5zdGVhZCBvZiBgY29udGVudGAgZm9yIHRoZSBldmVudCBhcmd1bWVudHMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0gdG8gcmVtb3ZlLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVtb3ZlJywgeyBjb250ZW50OiB0aGlzLl9pdGVtc1twb3NpdGlvbl0sIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5faXRlbXNbcG9zaXRpb25dLnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcbiAgICAgICAgdGhpcy5fbWVyZ2Vycy5zcGxpY2UocG9zaXRpb24sIDEpO1xyXG5cclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ2l0ZW1zJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcigncmVtb3ZlZCcsIHsgY29udGVudDogbnVsbCwgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZWxvYWRzIGltYWdlcyB3aXRoIGF1dG8gd2lkdGguXHJcbiAgICAgKiBAdG9kbyBSZXBsYWNlIGJ5IGEgbW9yZSBnZW5lcmljIGFwcHJvYWNoXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucHJlbG9hZEF1dG9XaWR0aEltYWdlcyA9IGZ1bmN0aW9uKGltYWdlcykge1xyXG4gICAgICAgIGltYWdlcy5lYWNoKCQucHJveHkoZnVuY3Rpb24oaSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmVudGVyKCdwcmUtbG9hZGluZycpO1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gJChlbGVtZW50KTtcclxuICAgICAgICAgICAgJChuZXcgSW1hZ2UoKSkub25lKCdsb2FkJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3NyYycsIGUudGFyZ2V0LnNyYyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNzcygnb3BhY2l0eScsIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZWF2ZSgncHJlLWxvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgICF0aGlzLmlzKCdwcmUtbG9hZGluZycpICYmICF0aGlzLmlzKCdpbml0aWFsaXppbmcnKSAmJiB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfSwgdGhpcykpLmF0dHIoJ3NyYycsIGVsZW1lbnQuYXR0cignc3JjJykgfHwgZWxlbWVudC5hdHRyKCdkYXRhLXNyYycpIHx8IGVsZW1lbnQuYXR0cignZGF0YS1zcmMtcmV0aW5hJykpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95cyB0aGUgY2Fyb3VzZWwuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9mZignLm93bC5jb3JlJyk7XHJcbiAgICAgICAgdGhpcy4kc3RhZ2Uub2ZmKCcub3dsLmNvcmUnKTtcclxuICAgICAgICAkKGRvY3VtZW50KS5vZmYoJy5vd2wuY29yZScpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpO1xyXG4gICAgICAgICAgICB0aGlzLm9mZih3aW5kb3csICdyZXNpemUnLCB0aGlzLl9oYW5kbGVycy5vblRocm90dGxlZFJlc2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuX3BsdWdpbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGx1Z2luc1tpXS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbignLmNsb25lZCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLiRzdGFnZS51bndyYXAoKTtcclxuICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmNvbnRlbnRzKCkudW53cmFwKCk7XHJcbiAgICAgICAgdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS51bndyYXAoKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudFxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnJlZnJlc2hDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGVkQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucnRsQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZHJhZ0NsYXNzKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgdGhpcy4kZWxlbWVudC5hdHRyKCdjbGFzcycpLnJlcGxhY2UobmV3IFJlZ0V4cCh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUNsYXNzICsgJy1cXFxcUytcXFxccycsICdnJyksICcnKSlcclxuICAgICAgICAgICAgLnJlbW92ZURhdGEoJ293bC5jYXJvdXNlbCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE9wZXJhdG9ycyB0byBjYWxjdWxhdGUgcmlnaHQtdG8tbGVmdCBhbmQgbGVmdC10by1yaWdodC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYV0gLSBUaGUgbGVmdCBzaWRlIG9wZXJhbmQuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29dIC0gVGhlIG9wZXJhdG9yLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtiXSAtIFRoZSByaWdodCBzaWRlIG9wZXJhbmQuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUub3AgPSBmdW5jdGlvbihhLCBvLCBiKSB7XHJcbiAgICAgICAgdmFyIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsO1xyXG4gICAgICAgIHN3aXRjaCAobykge1xyXG4gICAgICAgICAgICBjYXNlICc8JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhID4gYiA6IGEgPCBiO1xyXG4gICAgICAgICAgICBjYXNlICc+JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhIDwgYiA6IGEgPiBiO1xyXG4gICAgICAgICAgICBjYXNlICc+PSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcnRsID8gYSA8PSBiIDogYSA+PSBiO1xyXG4gICAgICAgICAgICBjYXNlICc8PSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcnRsID8gYSA+PSBiIDogYSA8PSBiO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEF0dGFjaGVzIHRvIGFuIGludGVybmFsIGV2ZW50LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBldmVudCBzb3VyY2UuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgLSBUaGUgZXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIC0gVGhlIGV2ZW50IGhhbmRsZXIgdG8gYXR0YWNoLlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBjYXB0dXJlIC0gV2V0aGVyIHRoZSBldmVudCBzaG91bGQgYmUgaGFuZGxlZCBhdCB0aGUgY2FwdHVyaW5nIHBoYXNlIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGFjaGVzIGZyb20gYW4gaW50ZXJuYWwgZXZlbnQuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHNvdXJjZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAtIFRoZSBldmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgLSBUaGUgYXR0YWNoZWQgZXZlbnQgaGFuZGxlciB0byBkZXRhY2guXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmUgLSBXZXRoZXIgdGhlIGF0dGFjaGVkIGV2ZW50IGhhbmRsZXIgd2FzIHJlZ2lzdGVyZWQgYXMgYSBjYXB0dXJpbmcgbGlzdGVuZXIgb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgY2FwdHVyZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmRldGFjaEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyaWdnZXJzIGEgcHVibGljIGV2ZW50LlxyXG4gICAgICogQHRvZG8gUmVtb3ZlIGBzdGF0dXNgLCBgcmVsYXRlZFRhcmdldGAgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gVGhlIGV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0geyp9IFtkYXRhPW51bGxdIC0gVGhlIGV2ZW50IGRhdGEuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVzcGFjZT1jYXJvdXNlbF0gLSBUaGUgZXZlbnQgbmFtZXNwYWNlLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtzdGF0ZV0gLSBUaGUgc3RhdGUgd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBldmVudC5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2VudGVyPWZhbHNlXSAtIEluZGljYXRlcyBpZiB0aGUgY2FsbCBlbnRlcnMgdGhlIHNwZWNpZmllZCBzdGF0ZSBvciBub3QuXHJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnR9IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24obmFtZSwgZGF0YSwgbmFtZXNwYWNlLCBzdGF0ZSwgZW50ZXIpIHtcclxuICAgICAgICB2YXIgc3RhdHVzID0ge1xyXG4gICAgICAgICAgICBpdGVtOiB7IGNvdW50OiB0aGlzLl9pdGVtcy5sZW5ndGgsIGluZGV4OiB0aGlzLmN1cnJlbnQoKSB9XHJcbiAgICAgICAgfSwgaGFuZGxlciA9ICQuY2FtZWxDYXNlKFxyXG4gICAgICAgICAgICAkLmdyZXAoWyAnb24nLCBuYW1lLCBuYW1lc3BhY2UgXSwgZnVuY3Rpb24odikgeyByZXR1cm4gdiB9KVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oJy0nKS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgKSwgZXZlbnQgPSAkLkV2ZW50KFxyXG4gICAgICAgICAgICBbIG5hbWUsICdvd2wnLCBuYW1lc3BhY2UgfHwgJ2Nhcm91c2VsJyBdLmpvaW4oJy4nKS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICAkLmV4dGVuZCh7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfSwgc3RhdHVzLCBkYXRhKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5fc3VwcmVzc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAkLmVhY2godGhpcy5fcGx1Z2lucywgZnVuY3Rpb24obmFtZSwgcGx1Z2luKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm9uVHJpZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpbi5vblRyaWdnZXIoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIoeyB0eXBlOiBPd2wuVHlwZS5FdmVudCwgbmFtZTogbmFtZSB9KTtcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzICYmIHR5cGVvZiB0aGlzLnNldHRpbmdzW2hhbmRsZXJdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzW2hhbmRsZXJdLmNhbGwodGhpcywgZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRW50ZXJzIGEgc3RhdGUuXHJcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBzdGF0ZSBuYW1lLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICQuZWFjaChbIG5hbWUgXS5jb25jYXQodGhpcy5fc3RhdGVzLnRhZ3NbbmFtZV0gfHwgW10pLCAkLnByb3h5KGZ1bmN0aW9uKGksIG5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlcy5jdXJyZW50W25hbWVdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlcy5jdXJyZW50W25hbWVdID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0rKztcclxuICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGVhdmVzIGEgc3RhdGUuXHJcbiAgICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBzdGF0ZSBuYW1lLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICQuZWFjaChbIG5hbWUgXS5jb25jYXQodGhpcy5fc3RhdGVzLnRhZ3NbbmFtZV0gfHwgW10pLCAkLnByb3h5KGZ1bmN0aW9uKGksIG5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0tLTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJzIGFuIGV2ZW50IG9yIHN0YXRlLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIFRoZSBldmVudCBvciBzdGF0ZSB0byByZWdpc3Rlci5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uKG9iamVjdCkge1xyXG4gICAgICAgIGlmIChvYmplY3QudHlwZSA9PT0gT3dsLlR5cGUuRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKCEkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghJC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5vd2wpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZGVmYXVsdCA9ICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0uX2RlZmF1bHQ7XHJcbiAgICAgICAgICAgICAgICAkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdLl9kZWZhdWx0ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGVmYXVsdCAmJiBfZGVmYXVsdC5hcHBseSAmJiAoIWUubmFtZXNwYWNlIHx8IGUubmFtZXNwYWNlLmluZGV4T2YoJ293bCcpID09PSAtMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9kZWZhdWx0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLm5hbWVzcGFjZSAmJiBlLm5hbWVzcGFjZS5pbmRleE9mKCdvd2wnKSA+IC0xO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0ub3dsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAob2JqZWN0LnR5cGUgPT09IE93bC5UeXBlLlN0YXRlKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0gPSBvYmplY3QudGFncztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9IHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXS5jb25jYXQob2JqZWN0LnRhZ3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0gPSAkLmdyZXAodGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdLCAkLnByb3h5KGZ1bmN0aW9uKHRhZywgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQuaW5BcnJheSh0YWcsIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSkgPT09IGk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3VwcHJlc3NlcyBldmVudHMuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBldmVudHMgLSBUaGUgZXZlbnRzIHRvIHN1cHByZXNzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnN1cHByZXNzID0gZnVuY3Rpb24oZXZlbnRzKSB7XHJcbiAgICAgICAgJC5lYWNoKGV2ZW50cywgJC5wcm94eShmdW5jdGlvbihpbmRleCwgZXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VwcmVzc1tldmVudF0gPSB0cnVlO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWxlYXNlcyBzdXBwcmVzc2VkIGV2ZW50cy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IGV2ZW50cyAtIFRoZSBldmVudHMgdG8gcmVsZWFzZS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24oZXZlbnRzKSB7XHJcbiAgICAgICAgJC5lYWNoKGV2ZW50cywgJC5wcm94eShmdW5jdGlvbihpbmRleCwgZXZlbnQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3N1cHJlc3NbZXZlbnRdO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHVuaWZpZWQgcG9pbnRlciBjb29yZGluYXRlcyBmcm9tIGV2ZW50LlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gLSBUaGUgYG1vdXNlZG93bmAgb3IgYHRvdWNoc3RhcnRgIGV2ZW50LlxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gLSBDb250YWlucyBgeGAgYW5kIGB5YCBjb29yZGluYXRlcyBvZiBjdXJyZW50IHBvaW50ZXIgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucG9pbnRlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHsgeDogbnVsbCwgeTogbnVsbCB9O1xyXG5cclxuICAgICAgICBldmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfHwgZXZlbnQgfHwgd2luZG93LmV2ZW50O1xyXG5cclxuICAgICAgICBldmVudCA9IGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGggP1xyXG4gICAgICAgICAgICBldmVudC50b3VjaGVzWzBdIDogZXZlbnQuY2hhbmdlZFRvdWNoZXMgJiYgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID9cclxuICAgICAgICAgICAgICAgIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdIDogZXZlbnQ7XHJcblxyXG4gICAgICAgIGlmIChldmVudC5wYWdlWCkge1xyXG4gICAgICAgICAgICByZXN1bHQueCA9IGV2ZW50LnBhZ2VYO1xyXG4gICAgICAgICAgICByZXN1bHQueSA9IGV2ZW50LnBhZ2VZO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC54ID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICAgICAgcmVzdWx0LnkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBpbnB1dCBpcyBhIE51bWJlciBvciBzb21ldGhpbmcgdGhhdCBjYW4gYmUgY29lcmNlZCB0byBhIE51bWJlclxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfE9iamVjdHxBcnJheXxCb29sZWFufFJlZ0V4cHxGdW5jdGlvbnxTeW1ib2x9IC0gVGhlIGlucHV0IHRvIGJlIHRlc3RlZFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gQW4gaW5kaWNhdGlvbiBpZiB0aGUgaW5wdXQgaXMgYSBOdW1iZXIgb3IgY2FuIGJlIGNvZXJjZWQgdG8gYSBOdW1iZXJcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pc051bWVyaWMgPSBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobnVtYmVyKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgZGlmZmVyZW5jZSBvZiB0d28gdmVjdG9ycy5cclxuICAgICAqIEB0b2RvICMyNjFcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gLSBUaGUgc2Vjb25kIHZlY3Rvci5cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IC0gVGhlIGRpZmZlcmVuY2UuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGZpcnN0LCBzZWNvbmQpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4OiBmaXJzdC54IC0gc2Vjb25kLngsXHJcbiAgICAgICAgICAgIHk6IGZpcnN0LnkgLSBzZWNvbmQueVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGpRdWVyeSBQbHVnaW4gZm9yIHRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqIEB0b2RvIE5hdmlnYXRpb24gcGx1Z2luIGBuZXh0YCBhbmQgYHByZXZgXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwgPSBmdW5jdGlvbihvcHRpb24pIHtcclxuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnb3dsLmNhcm91c2VsJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgT3dsKHRoaXMsIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ293bC5jYXJvdXNlbCcsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaChbXHJcbiAgICAgICAgICAgICAgICAgICAgJ25leHQnLCAncHJldicsICd0bycsICdkZXN0cm95JywgJ3JlZnJlc2gnLCAncmVwbGFjZScsICdhZGQnLCAncmVtb3ZlJ1xyXG4gICAgICAgICAgICAgICAgXSwgZnVuY3Rpb24oaSwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnJlZ2lzdGVyKHsgdHlwZTogT3dsLlR5cGUuRXZlbnQsIG5hbWU6IGV2ZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuJGVsZW1lbnQub24oZXZlbnQgKyAnLm93bC5jYXJvdXNlbC5jb3JlJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnJlbGF0ZWRUYXJnZXQgIT09IHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VwcHJlc3MoWyBldmVudCBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbZXZlbnRdLmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2UoWyBldmVudCBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGRhdGEpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyAmJiBvcHRpb24uY2hhckF0KDApICE9PSAnXycpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFbb3B0aW9uXS5hcHBseShkYXRhLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGpRdWVyeSBQbHVnaW5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3RvciA9IE93bDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBdXRvUmVmcmVzaCBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBhdXRvIHJlZnJlc2ggcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBBdXRvIFJlZnJlc2ggUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBBdXRvUmVmcmVzaCA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmcmVzaCBpbnRlcnZhbC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgY3VycmVudGx5IHZpc2libGUgb3Igbm90LlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl92aXNpYmxlID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvUmVmcmVzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2F0Y2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIEF1dG9SZWZyZXNoLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2guRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgYXV0b1JlZnJlc2g6IHRydWUsXHJcbiAgICAgICAgYXV0b1JlZnJlc2hJbnRlcnZhbDogNTAwXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2F0Y2hlcyB0aGUgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2gucHJvdG90eXBlLndhdGNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSB0aGlzLl9jb3JlLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpO1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gd2luZG93LnNldEludGVydmFsKCQucHJveHkodGhpcy5yZWZyZXNoLCB0aGlzKSwgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvUmVmcmVzaEludGVydmFsKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoZXMgdGhlIGVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIEF1dG9SZWZyZXNoLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvcmUuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykgPT09IHRoaXMuX3Zpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9ICF0aGlzLl92aXNpYmxlO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdvd2wtaGlkZGVuJywgIXRoaXMuX3Zpc2libGUpO1xyXG5cclxuICAgICAgICB0aGlzLl92aXNpYmxlICYmICh0aGlzLl9jb3JlLmludmFsaWRhdGUoJ3dpZHRoJykgJiYgdGhpcy5fY29yZS5yZWZyZXNoKCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKi9cclxuICAgIEF1dG9SZWZyZXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLl9oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b1JlZnJlc2ggPSBBdXRvUmVmcmVzaDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBMYXp5IFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgbGF6eSBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIExhenkgUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBMYXp5ID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxyZWFkeSBsb2FkZWQgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtBcnJheS48alF1ZXJ5Pn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9sb2FkZWQgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgY2hhbmdlLm93bC5jYXJvdXNlbCByZXNpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NvcmUuc2V0dGluZ3MgfHwgIXRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChlLnByb3BlcnR5ICYmIGUucHJvcGVydHkubmFtZSA9PSAncG9zaXRpb24nKSB8fCBlLnR5cGUgPT0gJ2luaXRpYWxpemVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAoc2V0dGluZ3MuY2VudGVyICYmIE1hdGguY2VpbChzZXR0aW5ncy5pdGVtcyAvIDIpIHx8IHNldHRpbmdzLml0ZW1zKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9ICgoc2V0dGluZ3MuY2VudGVyICYmIG4gKiAtMSkgfHwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gKGUucHJvcGVydHkgJiYgZS5wcm9wZXJ0eS52YWx1ZSAhPT0gdW5kZWZpbmVkID8gZS5wcm9wZXJ0eS52YWx1ZSA6IHRoaXMuX2NvcmUuY3VycmVudCgpKSArIGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lcyA9IHRoaXMuX2NvcmUuY2xvbmVzKCkubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkID0gJC5wcm94eShmdW5jdGlvbihpLCB2KSB7IHRoaXMubG9hZCh2KSB9LCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkrKyA8IG4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkKGNsb25lcyAvIDIgKyB0aGlzLl9jb3JlLnJlbGF0aXZlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lcyAmJiAkLmVhY2godGhpcy5fY29yZS5jbG9uZXModGhpcy5fY29yZS5yZWxhdGl2ZShwb3NpdGlvbikpLCBsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24rKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHRoZSBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTGF6eS5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlclxyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgTGF6eS5EZWZhdWx0cyA9IHtcclxuICAgICAgICBsYXp5TG9hZDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkcyBhbGwgcmVzb3VyY2VzIG9mIGFuIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgTGF6eS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyICRpdGVtID0gdGhpcy5fY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcShwb3NpdGlvbiksXHJcbiAgICAgICAgICAgICRlbGVtZW50cyA9ICRpdGVtICYmICRpdGVtLmZpbmQoJy5vd2wtbGF6eScpO1xyXG5cclxuICAgICAgICBpZiAoISRlbGVtZW50cyB8fCAkLmluQXJyYXkoJGl0ZW0uZ2V0KDApLCB0aGlzLl9sb2FkZWQpID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGVsZW1lbnRzLmVhY2goJC5wcm94eShmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpLCBpbWFnZSxcclxuICAgICAgICAgICAgICAgIHVybCA9ICh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgJiYgJGVsZW1lbnQuYXR0cignZGF0YS1zcmMtcmV0aW5hJykpIHx8ICRlbGVtZW50LmF0dHIoJ2RhdGEtc3JjJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ2xvYWQnLCB7IGVsZW1lbnQ6ICRlbGVtZW50LCB1cmw6IHVybCB9LCAnbGF6eScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRlbGVtZW50LmlzKCdpbWcnKSkge1xyXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQub25lKCdsb2FkLm93bC5sYXp5JywgJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jc3MoJ29wYWNpdHknLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ2xvYWRlZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKSkuYXR0cignc3JjJywgdXJsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybChcIicgKyB1cmwgKyAnXCIpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHknOiAnMSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ2xvYWRlZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XHJcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbG9hZGVkLnB1c2goJGl0ZW0uZ2V0KDApKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBMYXp5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLmhhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5MYXp5ID0gTGF6eTtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBdXRvSGVpZ2h0IFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgYXV0byBoZWlnaHQgcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBBdXRvIEhlaWdodCBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIEF1dG9IZWlnaHQgPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29yZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge093bH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb3JlID0gY2Fyb3VzZWw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCByZWZyZXNoZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodCAmJiBlLnByb3BlcnR5Lm5hbWUgPT0gJ3Bvc2l0aW9uJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdsb2FkZWQub3dsLmxhenknOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAmJiBlLmVsZW1lbnQuY2xvc2VzdCgnLicgKyB0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcykuaW5kZXgoKSA9PT0gdGhpcy5fY29yZS5jdXJyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b0hlaWdodC5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9IZWlnaHQuRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgYXV0b0hlaWdodDogZmFsc2UsXHJcbiAgICAgICAgYXV0b0hlaWdodENsYXNzOiAnb3dsLWhlaWdodCdcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSB2aWV3LlxyXG4gICAgICovXHJcbiAgICBBdXRvSGVpZ2h0LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLl9jb3JlLl9jdXJyZW50LFxyXG4gICAgICAgICAgICBlbmQgPSBzdGFydCArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbXMsXHJcbiAgICAgICAgICAgIHZpc2libGUgPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLnRvQXJyYXkoKS5zbGljZShzdGFydCwgZW5kKSxcclxuICAgICAgICAgICAgaGVpZ2h0cyA9IFtdLFxyXG4gICAgICAgICAgICBtYXhoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICAkLmVhY2godmlzaWJsZSwgZnVuY3Rpb24oaW5kZXgsIGl0ZW0pIHtcclxuICAgICAgICAgICAgaGVpZ2h0cy5wdXNoKCQoaXRlbSkuaGVpZ2h0KCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtYXhoZWlnaHQgPSBNYXRoLm1heC5hcHBseShudWxsLCBoZWlnaHRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29yZS4kc3RhZ2UucGFyZW50KClcclxuICAgICAgICAgICAgLmhlaWdodChtYXhoZWlnaHQpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyh0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHRDbGFzcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIEF1dG9IZWlnaHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLl9oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b0hlaWdodCA9IEF1dG9IZWlnaHQ7XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogVmlkZW8gUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSB2aWRlbyBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIFZpZGVvIFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgVmlkZW8gPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29yZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge093bH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb3JlID0gY2Fyb3VzZWw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhY2hlIGFsbCB2aWRlbyBVUkxzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3ZpZGVvcyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHBsYXlpbmcgaXRlbS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEB0b2RvIFRoZSBjbG9uZWQgY29udGVudCByZW1vdmFsZSBpcyB0b28gbGF0ZVxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnJlZ2lzdGVyKHsgdHlwZTogJ3N0YXRlJywgbmFtZTogJ3BsYXlpbmcnLCB0YWdzOiBbICdpbnRlcmFjdGluZycgXSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdyZXNpemUub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy52aWRlbyAmJiB0aGlzLmlzSW5GdWxsU2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncmVmcmVzaGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuaXMoJ3Jlc2l6aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLiRzdGFnZS5maW5kKCcuY2xvbmVkIC5vd2wtdmlkZW8tZnJhbWUnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PT0gJ3Bvc2l0aW9uJyAmJiB0aGlzLl9wbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZS5jb250ZW50KS5maW5kKCcub3dsLXZpZGVvJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCRlbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mZXRjaCgkZWxlbWVudCwgJChlLmNvbnRlbnQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIFZpZGVvLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKCdjbGljay5vd2wudmlkZW8nLCAnLm93bC12aWRlby1wbGF5LWljb24nLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5KGUpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLkRlZmF1bHRzID0ge1xyXG4gICAgICAgIHZpZGVvOiBmYWxzZSxcclxuICAgICAgICB2aWRlb0hlaWdodDogZmFsc2UsXHJcbiAgICAgICAgdmlkZW9XaWR0aDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSB2aWRlbyBJRCBhbmQgdGhlIHR5cGUgKFlvdVR1YmUvVmltZW8vdnphYXIgb25seSkuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gdGFyZ2V0IC0gVGhlIHRhcmdldCBjb250YWluaW5nIHRoZSB2aWRlbyBkYXRhLlxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IGl0ZW0gLSBUaGUgaXRlbSBjb250YWluaW5nIHRoZSB2aWRlby5cclxuICAgICAqL1xyXG4gICAgVmlkZW8ucHJvdG90eXBlLmZldGNoID0gZnVuY3Rpb24odGFyZ2V0LCBpdGVtKSB7XHJcbiAgICAgICAgdmFyIHR5cGUgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmF0dHIoJ2RhdGEtdmltZW8taWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndmltZW8nO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuYXR0cignZGF0YS12emFhci1pZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2emFhcidcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd5b3V0dWJlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoKSxcclxuICAgICAgICAgICAgaWQgPSB0YXJnZXQuYXR0cignZGF0YS12aW1lby1pZCcpIHx8IHRhcmdldC5hdHRyKCdkYXRhLXlvdXR1YmUtaWQnKSB8fCB0YXJnZXQuYXR0cignZGF0YS12emFhci1pZCcpLFxyXG4gICAgICAgICAgICB3aWR0aCA9IHRhcmdldC5hdHRyKCdkYXRhLXdpZHRoJykgfHwgdGhpcy5fY29yZS5zZXR0aW5ncy52aWRlb1dpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSB0YXJnZXQuYXR0cignZGF0YS1oZWlnaHQnKSB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvSGVpZ2h0LFxyXG4gICAgICAgICAgICB1cmwgPSB0YXJnZXQuYXR0cignaHJlZicpO1xyXG5cclxuICAgICAgICBpZiAodXJsKSB7XHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgIFBhcnNlcyB0aGUgaWQncyBvdXQgb2YgdGhlIGZvbGxvd2luZyB1cmxzIChhbmQgcHJvYmFibHkgbW9yZSk6XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj06aWRcclxuICAgICAgICAgICAgICAgICAgICBodHRwczovL3lvdXR1LmJlLzppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vdmltZW8uY29tLzppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vdmltZW8uY29tL2NoYW5uZWxzLzpjaGFubmVsLzppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vdmltZW8uY29tL2dyb3Vwcy86Z3JvdXAvdmlkZW9zLzppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vYXBwLnZ6YWFyLmNvbS92aWRlb3MvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgVmlzdWFsIGV4YW1wbGU6IGh0dHBzOi8vcmVnZXhwZXIuY29tLyMoaHR0cCUzQSU3Q2h0dHBzJTNBJTdDKSU1QyUyRiU1QyUyRihwbGF5ZXIuJTdDd3d3LiU3Q2FwcC4pJTNGKHZpbWVvJTVDLmNvbSU3Q3lvdXR1KGJlJTVDLmNvbSU3QyU1Qy5iZSU3Q2JlJTVDLmdvb2dsZWFwaXMlNUMuY29tKSU3Q3Z6YWFyJTVDLmNvbSklNUMlMkYodmlkZW8lNUMlMkYlN0N2aWRlb3MlNUMlMkYlN0NlbWJlZCU1QyUyRiU3Q2NoYW5uZWxzJTVDJTJGLiUyQiU1QyUyRiU3Q2dyb3VwcyU1QyUyRi4lMkIlNUMlMkYlN0N3YXRjaCU1QyUzRnYlM0QlN0N2JTVDJTJGKSUzRiglNUJBLVphLXowLTkuXyUyNS0lNUQqKSglNUMlMjYlNUNTJTJCKSUzRlxyXG4gICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgaWQgPSB1cmwubWF0Y2goLyhodHRwOnxodHRwczp8KVxcL1xcLyhwbGF5ZXIufHd3dy58YXBwLik/KHZpbWVvXFwuY29tfHlvdXR1KGJlXFwuY29tfFxcLmJlfGJlXFwuZ29vZ2xlYXBpc1xcLmNvbSl8dnphYXJcXC5jb20pXFwvKHZpZGVvXFwvfHZpZGVvc1xcL3xlbWJlZFxcL3xjaGFubmVsc1xcLy4rXFwvfGdyb3Vwc1xcLy4rXFwvfHdhdGNoXFw/dj18dlxcLyk/KFtBLVphLXowLTkuXyUtXSopKFxcJlxcUyspPy8pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlkWzNdLmluZGV4T2YoJ3lvdXR1JykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICd5b3V0dWJlJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpZFszXS5pbmRleE9mKCd2aW1lbycpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSAndmltZW8nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlkWzNdLmluZGV4T2YoJ3Z6YWFyJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICd2emFhcic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZpZGVvIFVSTCBub3Qgc3VwcG9ydGVkLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlkID0gaWRbNl07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHZpZGVvIFVSTC4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ZpZGVvc1t1cmxdID0ge1xyXG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxyXG4gICAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpdGVtLmF0dHIoJ2RhdGEtdmlkZW8nLCB1cmwpO1xyXG5cclxuICAgICAgICB0aGlzLnRodW1ibmFpbCh0YXJnZXQsIHRoaXMuX3ZpZGVvc1t1cmxdKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHZpZGVvIHRodW1ibmFpbC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IGNvbnRhaW5pbmcgdGhlIHZpZGVvIGRhdGEuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyAtIFRoZSB2aWRlbyBpbmZvIG9iamVjdC5cclxuICAgICAqIEBzZWUgYGZldGNoYFxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUudGh1bWJuYWlsID0gZnVuY3Rpb24odGFyZ2V0LCB2aWRlbykge1xyXG4gICAgICAgIHZhciB0bkxpbmssXHJcbiAgICAgICAgICAgIGljb24sXHJcbiAgICAgICAgICAgIHBhdGgsXHJcbiAgICAgICAgICAgIGRpbWVuc2lvbnMgPSB2aWRlby53aWR0aCAmJiB2aWRlby5oZWlnaHQgPyAnc3R5bGU9XCJ3aWR0aDonICsgdmlkZW8ud2lkdGggKyAncHg7aGVpZ2h0OicgKyB2aWRlby5oZWlnaHQgKyAncHg7XCInIDogJycsXHJcbiAgICAgICAgICAgIGN1c3RvbVRuID0gdGFyZ2V0LmZpbmQoJ2ltZycpLFxyXG4gICAgICAgICAgICBzcmNUeXBlID0gJ3NyYycsXHJcbiAgICAgICAgICAgIGxhenlDbGFzcyA9ICcnLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIGNyZWF0ZSA9IGZ1bmN0aW9uKHBhdGgpIHtcclxuICAgICAgICAgICAgICAgIGljb24gPSAnPGRpdiBjbGFzcz1cIm93bC12aWRlby1wbGF5LWljb25cIj48L2Rpdj4nO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5sYXp5TG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRuTGluayA9ICc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXRuICcgKyBsYXp5Q2xhc3MgKyAnXCIgJyArIHNyY1R5cGUgKyAnPVwiJyArIHBhdGggKyAnXCI+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG5MaW5rID0gJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tdG5cIiBzdHlsZT1cIm9wYWNpdHk6MTtiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgcGF0aCArICcpXCI+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRhcmdldC5hZnRlcih0bkxpbmspO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmFmdGVyKGljb24pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB3cmFwIHZpZGVvIGNvbnRlbnQgaW50byBvd2wtdmlkZW8td3JhcHBlciBkaXZcclxuICAgICAgICB0YXJnZXQud3JhcCgnPGRpdiBjbGFzcz1cIm93bC12aWRlby13cmFwcGVyXCInICsgZGltZW5zaW9ucyArICc+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmxhenlMb2FkKSB7XHJcbiAgICAgICAgICAgIHNyY1R5cGUgPSAnZGF0YS1zcmMnO1xyXG4gICAgICAgICAgICBsYXp5Q2xhc3MgPSAnb3dsLWxhenknO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY3VzdG9tIHRodW1ibmFpbFxyXG4gICAgICAgIGlmIChjdXN0b21Ubi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY3JlYXRlKGN1c3RvbVRuLmF0dHIoc3JjVHlwZSkpO1xyXG4gICAgICAgICAgICBjdXN0b21Ubi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHZpZGVvLnR5cGUgPT09ICd5b3V0dWJlJykge1xyXG4gICAgICAgICAgICBwYXRoID0gXCIvL2ltZy55b3V0dWJlLmNvbS92aS9cIiArIHZpZGVvLmlkICsgXCIvaHFkZWZhdWx0LmpwZ1wiO1xyXG4gICAgICAgICAgICBjcmVhdGUocGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2aWRlby50eXBlID09PSAndmltZW8nKSB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIHVybDogJy8vdmltZW8uY29tL2FwaS92Mi92aWRlby8nICsgdmlkZW8uaWQgKyAnLmpzb24nLFxyXG4gICAgICAgICAgICAgICAganNvbnA6ICdjYWxsYmFjaycsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gZGF0YVswXS50aHVtYm5haWxfbGFyZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2emFhcicpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnLy92emFhci5jb20vYXBpL3ZpZGVvcy8nICsgdmlkZW8uaWQgKyAnLmpzb24nLFxyXG4gICAgICAgICAgICAgICAganNvbnA6ICdjYWxsYmFjaycsXHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoID0gZGF0YS5mcmFtZWdyYWJfdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZShwYXRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBjdXJyZW50IHZpZGVvLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignc3RvcCcsIG51bGwsICd2aWRlbycpO1xyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcuZmluZCgnLm93bC12aWRlby1mcmFtZScpLnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcucmVtb3ZlQ2xhc3MoJ293bC12aWRlby1wbGF5aW5nJyk7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fY29yZS5sZWF2ZSgncGxheWluZycpO1xyXG4gICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignc3RvcHBlZCcsIG51bGwsICd2aWRlbycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgY3VycmVudCB2aWRlby5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqL1xyXG4gICAgVmlkZW8ucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSAkKGV2ZW50LnRhcmdldCksXHJcbiAgICAgICAgICAgIGl0ZW0gPSB0YXJnZXQuY2xvc2VzdCgnLicgKyB0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcyksXHJcbiAgICAgICAgICAgIHZpZGVvID0gdGhpcy5fdmlkZW9zW2l0ZW0uYXR0cignZGF0YS12aWRlbycpXSxcclxuICAgICAgICAgICAgd2lkdGggPSB2aWRlby53aWR0aCB8fCAnMTAwJScsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IHZpZGVvLmhlaWdodCB8fCB0aGlzLl9jb3JlLiRzdGFnZS5oZWlnaHQoKSxcclxuICAgICAgICAgICAgaHRtbDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3BsYXlpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29yZS5lbnRlcigncGxheWluZycpO1xyXG4gICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcigncGxheScsIG51bGwsICd2aWRlbycpO1xyXG5cclxuICAgICAgICBpdGVtID0gdGhpcy5fY29yZS5pdGVtcyh0aGlzLl9jb3JlLnJlbGF0aXZlKGl0ZW0uaW5kZXgoKSkpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLnJlc2V0KGl0ZW0uaW5kZXgoKSk7XHJcblxyXG4gICAgICAgIGlmICh2aWRlby50eXBlID09PSAneW91dHViZScpIHtcclxuICAgICAgICAgICAgaHRtbCA9ICc8aWZyYW1lIHdpZHRoPVwiJyArIHdpZHRoICsgJ1wiIGhlaWdodD1cIicgKyBoZWlnaHQgKyAnXCIgc3JjPVwiLy93d3cueW91dHViZS5jb20vZW1iZWQvJyArXHJcbiAgICAgICAgICAgICAgICB2aWRlby5pZCArICc/YXV0b3BsYXk9MSZyZWw9MCZ2PScgKyB2aWRlby5pZCArICdcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+JztcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2aW1lbycpIHtcclxuICAgICAgICAgICAgaHRtbCA9ICc8aWZyYW1lIHNyYz1cIi8vcGxheWVyLnZpbWVvLmNvbS92aWRlby8nICsgdmlkZW8uaWQgK1xyXG4gICAgICAgICAgICAgICAgJz9hdXRvcGxheT0xXCIgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArXHJcbiAgICAgICAgICAgICAgICAnXCIgZnJhbWVib3JkZXI9XCIwXCIgd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+JztcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2emFhcicpIHtcclxuICAgICAgICAgICAgaHRtbCA9ICc8aWZyYW1lIGZyYW1lYm9yZGVyPVwiMFwiJyArICdoZWlnaHQ9XCInICsgaGVpZ2h0ICsgJ1wiJyArICd3aWR0aD1cIicgKyB3aWR0aCArXHJcbiAgICAgICAgICAgICAgICAnXCIgYWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiB3ZWJraXRBbGxvd0Z1bGxTY3JlZW4gJyArXHJcbiAgICAgICAgICAgICAgICAnc3JjPVwiLy92aWV3LnZ6YWFyLmNvbS8nICsgdmlkZW8uaWQgKyAnL3BsYXllcj9hdXRvcGxheT10cnVlXCI+PC9pZnJhbWU+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tZnJhbWVcIj4nICsgaHRtbCArICc8L2Rpdj4nKS5pbnNlcnRBZnRlcihpdGVtLmZpbmQoJy5vd2wtdmlkZW8nKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBpdGVtLmFkZENsYXNzKCdvd2wtdmlkZW8tcGxheWluZycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIGFuIHZpZGVvIGlzIGN1cnJlbnRseSBpbiBmdWxsIHNjcmVlbiBtb2RlIG9yIG5vdC5cclxuICAgICAqIEB0b2RvIEJhZCBzdHlsZSBiZWNhdXNlIGxvb2tzIGxpa2UgYSByZWFkb25seSBtZXRob2QgYnV0IGNoYW5nZXMgbWVtYmVycy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuaXNJbkZ1bGxTY3JlZW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XHJcbiAgICAgICAgICAgIGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50O1xyXG5cclxuICAgICAgICByZXR1cm4gZWxlbWVudCAmJiAkKGVsZW1lbnQpLnBhcmVudCgpLmhhc0NsYXNzKCdvd2wtdmlkZW8tZnJhbWUnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLlxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoJ2NsaWNrLm93bC52aWRlbycpO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLlZpZGVvID0gVmlkZW87XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogQW5pbWF0ZSBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIGFuaW1hdGUgcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBOYXZpZ2F0aW9uIFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IHNjb3BlIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgQW5pbWF0ZSA9IGZ1bmN0aW9uKHNjb3BlKSB7XHJcbiAgICAgICAgdGhpcy5jb3JlID0gc2NvcGU7XHJcbiAgICAgICAgdGhpcy5jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQW5pbWF0ZS5EZWZhdWx0cywgdGhpcy5jb3JlLm9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuc3dhcHBpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5uZXh0ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnY2hhbmdlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PSAncG9zaXRpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91cyA9IHRoaXMuY29yZS5jdXJyZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0ID0gZS5wcm9wZXJ0eS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdkcmFnLm93bC5jYXJvdXNlbCBkcmFnZ2VkLm93bC5jYXJvdXNlbCB0cmFuc2xhdGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwcGluZyA9IGUudHlwZSA9PSAndHJhbnNsYXRlZCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAndHJhbnNsYXRlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuc3dhcHBpbmcgJiYgKHRoaXMuY29yZS5vcHRpb25zLmFuaW1hdGVPdXQgfHwgdGhpcy5jb3JlLm9wdGlvbnMuYW5pbWF0ZUluKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3dhcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuY29yZS4kZWxlbWVudC5vbih0aGlzLmhhbmRsZXJzKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEFuaW1hdGUuRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgYW5pbWF0ZU91dDogZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0ZUluOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGFuaW1hdGlvbiBjbGFzc2VzIHdoZW5ldmVyIGFuIHRyYW5zbGF0aW9ucyBzdGFydHMuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbnx1bmRlZmluZWR9XHJcbiAgICAgKi9cclxuICAgIEFuaW1hdGUucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY29yZS5zZXR0aW5ncy5pdGVtcyAhPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoISQuc3VwcG9ydC5hbmltYXRpb24gfHwgISQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29yZS5zcGVlZCgwKTtcclxuXHJcbiAgICAgICAgdmFyIGxlZnQsXHJcbiAgICAgICAgICAgIGNsZWFyID0gJC5wcm94eSh0aGlzLmNsZWFyLCB0aGlzKSxcclxuICAgICAgICAgICAgcHJldmlvdXMgPSB0aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5wcmV2aW91cyksXHJcbiAgICAgICAgICAgIG5leHQgPSB0aGlzLmNvcmUuJHN0YWdlLmNoaWxkcmVuKCkuZXEodGhpcy5uZXh0KSxcclxuICAgICAgICAgICAgaW5jb21pbmcgPSB0aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZUluLFxyXG4gICAgICAgICAgICBvdXRnb2luZyA9IHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlT3V0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb3JlLmN1cnJlbnQoKSA9PT0gdGhpcy5wcmV2aW91cykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3V0Z29pbmcpIHtcclxuICAgICAgICAgICAgbGVmdCA9IHRoaXMuY29yZS5jb29yZGluYXRlcyh0aGlzLnByZXZpb3VzKSAtIHRoaXMuY29yZS5jb29yZGluYXRlcyh0aGlzLm5leHQpO1xyXG4gICAgICAgICAgICBwcmV2aW91cy5vbmUoJC5zdXBwb3J0LmFuaW1hdGlvbi5lbmQsIGNsZWFyKVxyXG4gICAgICAgICAgICAgICAgLmNzcyggeyAnbGVmdCc6IGxlZnQgKyAncHgnIH0gKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdhbmltYXRlZCBvd2wtYW5pbWF0ZWQtb3V0JylcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhvdXRnb2luZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5jb21pbmcpIHtcclxuICAgICAgICAgICAgbmV4dC5vbmUoJC5zdXBwb3J0LmFuaW1hdGlvbi5lbmQsIGNsZWFyKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdhbmltYXRlZCBvd2wtYW5pbWF0ZWQtaW4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKGluY29taW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIEFuaW1hdGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICQoZS50YXJnZXQpLmNzcyggeyAnbGVmdCc6ICcnIH0gKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIG93bC1hbmltYXRlZC1vdXQgb3dsLWFuaW1hdGVkLWluJylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4pXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZU91dCk7XHJcbiAgICAgICAgdGhpcy5jb3JlLm9uVHJhbnNpdGlvbkVuZCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEFuaW1hdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQW5pbWF0ZSA9IEFuaW1hdGU7XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogQXV0b3BsYXkgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgYXV0b3BsYXkgcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBBdXRvcGxheSBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBzY29wZSAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIEF1dG9wbGF5ID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgYXV0b3BsYXkgdGltZW91dC5cclxuICAgICAgICAgKiBAdHlwZSB7VGltZW91dH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZW5ldmVyIHRoZSBhdXRvcGxheSBpcyBwYXVzZWQuXHJcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09PSAnc2V0dGluZ3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwbGF5PycsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEF1dG9QbGF5SW50ZXJ2YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3BsYXkub3dsLmF1dG9wbGF5JzogJC5wcm94eShmdW5jdGlvbihlLCB0LCBzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkodCwgcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnc3RvcC5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ21vdXNlb3Zlci5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlICYmIHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnbW91c2VsZWF2ZS5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlICYmIHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICd0b3VjaHN0YXJ0Lm93bC5jb3JlJzogJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5SG92ZXJQYXVzZSAmJiB0aGlzLl9jb3JlLmlzKCdyb3RhdGluZycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3RvdWNoZW5kLm93bC5jb3JlJzogJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5SG92ZXJQYXVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b3BsYXkuRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBBdXRvcGxheS5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvcGxheTogZmFsc2UsXHJcbiAgICAgICAgYXV0b3BsYXlUaW1lb3V0OiA1MDAwLFxyXG4gICAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZTogZmFsc2UsXHJcbiAgICAgICAgYXV0b3BsYXlTcGVlZDogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydHMgdGhlIGF1dG9wbGF5LlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lb3V0XSAtIFRoZSBpbnRlcnZhbCBiZWZvcmUgdGhlIG5leHQgYW5pbWF0aW9uIHN0YXJ0cy5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBmb3IgdGhlIGFuaW1hdGlvbnMuXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24odGltZW91dCwgc3BlZWQpIHtcclxuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29yZS5lbnRlcigncm90YXRpbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0QXV0b1BsYXlJbnRlcnZhbCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBuZXcgdGltZW91dFxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZW91dF0gLSBUaGUgaW50ZXJ2YWwgYmVmb3JlIHRoZSBuZXh0IGFuaW1hdGlvbiBzdGFydHMuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSBhbmltYXRpb24gc3BlZWQgZm9yIHRoZSBhbmltYXRpb25zLlxyXG4gICAgICogQHJldHVybiB7VGltZW91dH1cclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLl9nZXROZXh0VGltZW91dCA9IGZ1bmN0aW9uKHRpbWVvdXQsIHNwZWVkKSB7XHJcbiAgICAgICAgaWYgKCB0aGlzLl90aW1lb3V0ICkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCB8fCB0aGlzLl9jb3JlLmlzKCdidXN5JykgfHwgdGhpcy5fY29yZS5pcygnaW50ZXJhY3RpbmcnKSB8fCBkb2N1bWVudC5oaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLm5leHQoc3BlZWQgfHwgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheVNwZWVkKTtcclxuICAgICAgICB9LCB0aGlzKSwgdGltZW91dCB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5VGltZW91dCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhdXRvcGxheSBpbiBtb3Rpb24uXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBBdXRvcGxheS5wcm90b3R5cGUuX3NldEF1dG9QbGF5SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdGhpcy5fZ2V0TmV4dFRpbWVvdXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyB0aGUgYXV0b3BsYXkuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb3JlLmlzKCdyb3RhdGluZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XHJcbiAgICAgICAgdGhpcy5fY29yZS5sZWF2ZSgncm90YXRpbmcnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyB0aGUgYXV0b3BsYXkuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5hdXRvcGxheSA9IEF1dG9wbGF5O1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIE5hdmlnYXRpb24gUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgbmF2aWdhdGlvbiBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIE5hdmlnYXRpb24gUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsLlxyXG4gICAgICovXHJcbiAgICB2YXIgTmF2aWdhdGlvbiA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHBsdWdpbiBpcyBpbml0aWFsaXplZCBvciBub3QuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHBhZ2luZyBpbmRleGVzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fcGFnZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIERPTSBlbGVtZW50cyBvZiB0aGUgdXNlciBpbnRlcmZhY2UuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTWFya3VwIGZvciBhbiBpbmRpY2F0b3IuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtBcnJheS48U3RyaW5nPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl90ZW1wbGF0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGNhcm91c2VsIGVsZW1lbnQuXHJcbiAgICAgICAgICogQHR5cGUge2pRdWVyeX1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLiRlbGVtZW50ID0gdGhpcy5fY29yZS4kZWxlbWVudDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogT3ZlcnJpZGRlbiBtZXRob2RzIG9mIHRoZSBjYXJvdXNlbC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9vdmVycmlkZXMgPSB7XHJcbiAgICAgICAgICAgIG5leHQ6IHRoaXMuX2NvcmUubmV4dCxcclxuICAgICAgICAgICAgcHJldjogdGhpcy5fY29yZS5wcmV2LFxyXG4gICAgICAgICAgICB0bzogdGhpcy5fY29yZS50b1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ3ByZXBhcmVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZXMucHVzaCgnPGRpdiBjbGFzcz1cIicgKyB0aGlzLl9jb3JlLnNldHRpbmdzLmRvdENsYXNzICsgJ1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGUuY29udGVudCkuZmluZCgnW2RhdGEtZG90XScpLmFkZEJhY2soJ1tkYXRhLWRvdF0nKS5hdHRyKCdkYXRhLWRvdCcpICsgJzwvZGl2PicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2FkZGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZXMuc3BsaWNlKGUucG9zaXRpb24sIDAsIHRoaXMuX3RlbXBsYXRlcy5wb3AoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncmVtb3ZlLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZXMuc3BsaWNlKGUucG9zaXRpb24sIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiAhdGhpcy5faW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ2luaXRpYWxpemUnLCBudWxsLCAnbmF2aWdhdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignaW5pdGlhbGl6ZWQnLCBudWxsLCAnbmF2aWdhdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3JlZnJlc2hlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcigncmVmcmVzaCcsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3JlLnRyaWdnZXIoJ3JlZnJlc2hlZCcsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBOYXZpZ2F0aW9uLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEB0b2RvIFJlbmFtZSBgc2xpZGVCeWAgdG8gYG5hdkJ5YFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLkRlZmF1bHRzID0ge1xyXG4gICAgICAgIG5hdjogZmFsc2UsXHJcbiAgICAgICAgbmF2VGV4dDogWyAnJywgJycgXSxcclxuICAgICAgICBuYXZTcGVlZDogZmFsc2UsXHJcbiAgICAgICAgbmF2RWxlbWVudDogJ2RpdicsXHJcbiAgICAgICAgbmF2Q29udGFpbmVyOiBmYWxzZSxcclxuICAgICAgICBuYXZDb250YWluZXJDbGFzczogJ293bC1uYXYnLFxyXG4gICAgICAgIG5hdkNsYXNzOiBbICdvd2wtcHJldicsICdvd2wtbmV4dCcgXSxcclxuICAgICAgICBzbGlkZUJ5OiAxLFxyXG4gICAgICAgIGRvdENsYXNzOiAnb3dsLWRvdCcsXHJcbiAgICAgICAgZG90c0NsYXNzOiAnb3dsLWRvdHMnLFxyXG4gICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgZG90c0VhY2g6IGZhbHNlLFxyXG4gICAgICAgIGRvdHNEYXRhOiBmYWxzZSxcclxuICAgICAgICBkb3RzU3BlZWQ6IGZhbHNlLFxyXG4gICAgICAgIGRvdHNDb250YWluZXI6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGxheW91dCBvZiB0aGUgcGx1Z2luIGFuZCBleHRlbmRzIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBvdmVycmlkZSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgRE9NIHN0cnVjdHVyZSBmb3IgcmVsYXRpdmUgbmF2aWdhdGlvblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSA9IChzZXR0aW5ncy5uYXZDb250YWluZXIgPyAkKHNldHRpbmdzLm5hdkNvbnRhaW5lcilcclxuICAgICAgICAgICAgOiAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLm5hdkNvbnRhaW5lckNsYXNzKS5hcHBlbmRUbyh0aGlzLiRlbGVtZW50KSkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cyA9ICQoJzwnICsgc2V0dGluZ3MubmF2RWxlbWVudCArICc+JylcclxuICAgICAgICAgICAgLmFkZENsYXNzKHNldHRpbmdzLm5hdkNsYXNzWzBdKVxyXG4gICAgICAgICAgICAuaHRtbChzZXR0aW5ncy5uYXZUZXh0WzBdKVxyXG4gICAgICAgICAgICAucHJlcGVuZFRvKHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSlcclxuICAgICAgICAgICAgLm9uKCdjbGljaycsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2KHNldHRpbmdzLm5hdlNwZWVkKTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRuZXh0ID0gJCgnPCcgKyBzZXR0aW5ncy5uYXZFbGVtZW50ICsgJz4nKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MubmF2Q2xhc3NbMV0pXHJcbiAgICAgICAgICAgIC5odG1sKHNldHRpbmdzLm5hdlRleHRbMV0pXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLl9jb250cm9scy4kcmVsYXRpdmUpXHJcbiAgICAgICAgICAgIC5vbignY2xpY2snLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dChzZXR0aW5ncy5uYXZTcGVlZCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIERPTSBzdHJ1Y3R1cmUgZm9yIGFic29sdXRlIG5hdmlnYXRpb25cclxuICAgICAgICBpZiAoIXNldHRpbmdzLmRvdHNEYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcyA9IFsgJCgnPGRpdj4nKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKHNldHRpbmdzLmRvdENsYXNzKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nKSlcclxuICAgICAgICAgICAgICAgIC5wcm9wKCdvdXRlckhUTUwnKSBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlID0gKHNldHRpbmdzLmRvdHNDb250YWluZXIgPyAkKHNldHRpbmdzLmRvdHNDb250YWluZXIpXHJcbiAgICAgICAgICAgIDogJCgnPGRpdj4nKS5hZGRDbGFzcyhzZXR0aW5ncy5kb3RzQ2xhc3MpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLm9uKCdjbGljaycsICdkaXYnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gJChlLnRhcmdldCkucGFyZW50KCkuaXModGhpcy5fY29udHJvbHMuJGFic29sdXRlKVxyXG4gICAgICAgICAgICAgICAgPyAkKGUudGFyZ2V0KS5pbmRleCgpIDogJChlLnRhcmdldCkucGFyZW50KCkuaW5kZXgoKTtcclxuXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudG8oaW5kZXgsIHNldHRpbmdzLmRvdHNTcGVlZCk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICAvLyBvdmVycmlkZSBwdWJsaWMgbWV0aG9kcyBvZiB0aGUgY2Fyb3VzZWxcclxuICAgICAgICBmb3IgKG92ZXJyaWRlIGluIHRoaXMuX292ZXJyaWRlcykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlW292ZXJyaWRlXSA9ICQucHJveHkodGhpc1tvdmVycmlkZV0sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95cyB0aGUgcGx1Z2luLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIGNvbnRyb2wsIHByb3BlcnR5LCBvdmVycmlkZTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb250cm9sIGluIHRoaXMuX2NvbnRyb2xzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzW2NvbnRyb2xdLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKG92ZXJyaWRlIGluIHRoaXMub3ZlcmlkZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZVtvdmVycmlkZV0gPSB0aGlzLl9vdmVycmlkZXNbb3ZlcnJpZGVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBzdGF0ZS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGksIGosIGssXHJcbiAgICAgICAgICAgIGxvd2VyID0gdGhpcy5fY29yZS5jbG9uZXMoKS5sZW5ndGggLyAyLFxyXG4gICAgICAgICAgICB1cHBlciA9IGxvd2VyICsgdGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aCxcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuX2NvcmUubWF4aW11bSh0cnVlKSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzLFxyXG4gICAgICAgICAgICBzaXplID0gc2V0dGluZ3MuY2VudGVyIHx8IHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5kb3RzRGF0YVxyXG4gICAgICAgICAgICAgICAgPyAxIDogc2V0dGluZ3MuZG90c0VhY2ggfHwgc2V0dGluZ3MuaXRlbXM7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zbGlkZUJ5ICE9PSAncGFnZScpIHtcclxuICAgICAgICAgICAgc2V0dGluZ3Muc2xpZGVCeSA9IE1hdGgubWluKHNldHRpbmdzLnNsaWRlQnksIHNldHRpbmdzLml0ZW1zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5kb3RzIHx8IHNldHRpbmdzLnNsaWRlQnkgPT0gJ3BhZ2UnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhZ2VzID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGkgPSBsb3dlciwgaiA9IDAsIGsgPSAwOyBpIDwgdXBwZXI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGogPj0gc2l6ZSB8fCBqID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBNYXRoLm1pbihtYXhpbXVtLCBpIC0gbG93ZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGkgLSBsb3dlciArIHNpemUgLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgubWluKG1heGltdW0sIGkgLSBsb3dlcikgPT09IG1heGltdW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGogPSAwLCArK2s7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBqICs9IHRoaXMuX2NvcmUubWVyZ2Vycyh0aGlzLl9jb3JlLnJlbGF0aXZlKGkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3cyB0aGUgdXNlciBpbnRlcmZhY2UuXHJcbiAgICAgKiBAdG9kbyBUaGUgb3B0aW9uIGBkb3RzRGF0YWAgd29udCB3b3JrLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UsXHJcbiAgICAgICAgICAgIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgZGlzYWJsZWQgPSB0aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoIDw9IHNldHRpbmdzLml0ZW1zLFxyXG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpLFxyXG4gICAgICAgICAgICBsb29wID0gc2V0dGluZ3MubG9vcCB8fCBzZXR0aW5ncy5yZXdpbmQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZS50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhc2V0dGluZ3MubmF2IHx8IGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLm5hdikge1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kcHJldmlvdXMudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgIWxvb3AgJiYgaW5kZXggPD0gdGhpcy5fY29yZS5taW5pbXVtKHRydWUpKTtcclxuICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJG5leHQudG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJywgIWxvb3AgJiYgaW5kZXggPj0gdGhpcy5fY29yZS5tYXhpbXVtKHRydWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhc2V0dGluZ3MuZG90cyB8fCBkaXNhYmxlZCk7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5kb3RzKSB7XHJcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSB0aGlzLl9wYWdlcy5sZW5ndGggLSB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuZG90c0RhdGEgJiYgZGlmZmVyZW5jZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmh0bWwodGhpcy5fdGVtcGxhdGVzLmpvaW4oJycpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWZmZXJlbmNlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmFwcGVuZChuZXcgQXJyYXkoZGlmZmVyZW5jZSArIDEpLmpvaW4odGhpcy5fdGVtcGxhdGVzWzBdKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlmZmVyZW5jZSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLnNsaWNlKGRpZmZlcmVuY2UpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmNoaWxkcmVuKCkuZXEoJC5pbkFycmF5KHRoaXMuY3VycmVudCgpLCB0aGlzLl9wYWdlcykpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXh0ZW5kcyBldmVudCBkYXRhLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgb2JqZWN0IHdoaWNoIGdldHMgdGhyb3duLlxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5vblRyaWdnZXIgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGV2ZW50LnBhZ2UgPSB7XHJcbiAgICAgICAgICAgIGluZGV4OiAkLmluQXJyYXkodGhpcy5jdXJyZW50KCksIHRoaXMuX3BhZ2VzKSxcclxuICAgICAgICAgICAgY291bnQ6IHRoaXMuX3BhZ2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgc2l6ZTogc2V0dGluZ3MgJiYgKHNldHRpbmdzLmNlbnRlciB8fCBzZXR0aW5ncy5hdXRvV2lkdGggfHwgc2V0dGluZ3MuZG90c0RhdGFcclxuICAgICAgICAgICAgICAgID8gMSA6IHNldHRpbmdzLmRvdHNFYWNoIHx8IHNldHRpbmdzLml0ZW1zKVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBwYWdlIHBvc2l0aW9uIG9mIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLmN1cnJlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpO1xyXG4gICAgICAgIHJldHVybiAkLmdyZXAodGhpcy5fcGFnZXMsICQucHJveHkoZnVuY3Rpb24ocGFnZSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhZ2Uuc3RhcnQgPD0gY3VycmVudCAmJiBwYWdlLmVuZCA+PSBjdXJyZW50O1xyXG4gICAgICAgIH0sIHRoaXMpKS5wb3AoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHN1Y2Nlc29yL3ByZWRlY2Vzc29yIHBvc2l0aW9uLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbihzdWNjZXNzb3IpIHtcclxuICAgICAgICB2YXIgcG9zaXRpb24sIGxlbmd0aCxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3Muc2xpZGVCeSA9PSAncGFnZScpIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAkLmluQXJyYXkodGhpcy5jdXJyZW50KCksIHRoaXMuX3BhZ2VzKTtcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5fcGFnZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBzdWNjZXNzb3IgPyArK3Bvc2l0aW9uIDogLS1wb3NpdGlvbjtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9wYWdlc1soKHBvc2l0aW9uICUgbGVuZ3RoKSArIGxlbmd0aCkgJSBsZW5ndGhdLnN0YXJ0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSk7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHRoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NvciA/IHBvc2l0aW9uICs9IHNldHRpbmdzLnNsaWRlQnkgOiBwb3NpdGlvbiAtPSBzZXR0aW5ncy5zbGlkZUJ5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyB0byB0aGUgbmV4dCBpdGVtIG9yIHBhZ2UuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkPWZhbHNlXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgICQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKHRydWUpLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBwcmV2aW91cyBpdGVtIG9yIHBhZ2UuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkPWZhbHNlXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgICQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKGZhbHNlKSwgc3BlZWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRlcyB0byB0aGUgc3BlY2lmaWVkIGl0ZW0gb3IgcGFnZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSBvciBwYWdlLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2l0aW9uLlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbc3RhbmRhcmQ9ZmFsc2VdIC0gV2hldGhlciB0byB1c2UgdGhlIHN0YW5kYXJkIGJlaGF2aW91ciBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLnRvID0gZnVuY3Rpb24ocG9zaXRpb24sIHNwZWVkLCBzdGFuZGFyZCkge1xyXG4gICAgICAgIHZhciBsZW5ndGg7XHJcblxyXG4gICAgICAgIGlmICghc3RhbmRhcmQgJiYgdGhpcy5fcGFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHRoaXMuX3BhZ2VzLmxlbmd0aDtcclxuICAgICAgICAgICAgJC5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sIHRoaXMuX2NvcmUpKHRoaXMuX3BhZ2VzWygocG9zaXRpb24gJSBsZW5ndGgpICsgbGVuZ3RoKSAlIGxlbmd0aF0uc3RhcnQsIHNwZWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkLnByb3h5KHRoaXMuX292ZXJyaWRlcy50bywgdGhpcy5fY29yZSkocG9zaXRpb24sIHNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5OYXZpZ2F0aW9uID0gTmF2aWdhdGlvbjtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBIYXNoIFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEFydHVzIEtvbGFub3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIGhhc2ggcGx1Z2luLlxyXG4gICAgICogQGNsYXNzIFRoZSBIYXNoIFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgSGFzaCA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGFzaCBtYWluLXBhZ2UtcGFnZSBmb3IgdGhlIGl0ZW1zLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhc2hlcyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgY2Fyb3VzZWwgZWxlbWVudC5cclxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSB0aGlzLl9jb3JlLiRlbGVtZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24gPT09ICdVUkxIYXNoJykge1xyXG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS50cmlnZ2VyKCdoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzaCA9ICQoZS5jb250ZW50KS5maW5kKCdbZGF0YS1oYXNoXScpLmFkZEJhY2soJ1tkYXRhLWhhc2hdJykuYXR0cignZGF0YS1oYXNoJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYXNoZXNbaGFzaF0gPSBlLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnY2hhbmdlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2NvcmUuaXRlbXModGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNoID0gJC5tYXAodGhpcy5faGFzaGVzLCBmdW5jdGlvbihpdGVtLCBoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSA9PT0gY3VycmVudCA/IGhhc2ggOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzaCB8fCB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSA9PT0gaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGhhc2g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBIYXNoLkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciB0aGUgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXIgZm9yIGhhc2ggbmF2aWdhdGlvblxyXG4gICAgICAgICQod2luZG93KS5vbignaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbicsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zID0gdGhpcy5fY29yZS4kc3RhZ2UuY2hpbGRyZW4oKSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5faGFzaGVzW2hhc2hdICYmIGl0ZW1zLmluZGV4KHRoaXMuX2hhc2hlc1toYXNoXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA9PT0gdGhpcy5fY29yZS5jdXJyZW50KCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fY29yZS50byh0aGlzLl9jb3JlLnJlbGF0aXZlKHBvc2l0aW9uKSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEhhc2guRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgVVJMaGFzaExpc3RlbmVyOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEhhc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgICQod2luZG93KS5vZmYoJ2hhc2hjaGFuZ2Uub3dsLm5hdmlnYXRpb24nKTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5IYXNoID0gSGFzaDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBTdXBwb3J0IFBsdWdpblxyXG4gKlxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIFZpdmlkIFBsYW5ldCBTb2Z0d2FyZSBHbWJIXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIHZhciBzdHlsZSA9ICQoJzxzdXBwb3J0PicpLmdldCgwKS5zdHlsZSxcclxuICAgICAgICBwcmVmaXhlcyA9ICdXZWJraXQgTW96IE8gbXMnLnNwbGl0KCcgJyksXHJcbiAgICAgICAgZXZlbnRzID0ge1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBlbmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBXZWJraXRUcmFuc2l0aW9uOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgTW96VHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIE9UcmFuc2l0aW9uOiAnb1RyYW5zaXRpb25FbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhbmltYXRpb246IHtcclxuICAgICAgICAgICAgICAgIGVuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIFdlYmtpdEFuaW1hdGlvbjogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgTW96QW5pbWF0aW9uOiAnYW5pbWF0aW9uZW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBPQW5pbWF0aW9uOiAnb0FuaW1hdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAnYW5pbWF0aW9uZW5kJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZXN0cyA9IHtcclxuICAgICAgICAgICAgY3NzdHJhbnNmb3JtczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISF0ZXN0KCd0cmFuc2Zvcm0nKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3NzdHJhbnNmb3JtczNkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ3BlcnNwZWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNzc3RyYW5zaXRpb25zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ3RyYW5zaXRpb24nKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3NzYW5pbWF0aW9uczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gISF0ZXN0KCdhbmltYXRpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gdGVzdChwcm9wZXJ0eSwgcHJlZml4ZWQpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2UsXHJcbiAgICAgICAgICAgIHVwcGVyID0gcHJvcGVydHkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKChwcm9wZXJ0eSArICcgJyArIHByZWZpeGVzLmpvaW4odXBwZXIgKyAnICcpICsgdXBwZXIpLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGksIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChzdHlsZVtwcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcHJlZml4ZWQgPyBwcm9wZXJ0eSA6IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcmVmaXhlZChwcm9wZXJ0eSkge1xyXG4gICAgICAgIHJldHVybiB0ZXN0KHByb3BlcnR5LCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVzdHMuY3NzdHJhbnNpdGlvbnMoKSkge1xyXG4gICAgICAgIC8qIGpzaGludCAtVzA1MyAqL1xyXG4gICAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gbmV3IFN0cmluZyhwcmVmaXhlZCgndHJhbnNpdGlvbicpKVxyXG4gICAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCA9IGV2ZW50cy50cmFuc2l0aW9uLmVuZFsgJC5zdXBwb3J0LnRyYW5zaXRpb24gXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVzdHMuY3NzYW5pbWF0aW9ucygpKSB7XHJcbiAgICAgICAgLyoganNoaW50IC1XMDUzICovXHJcbiAgICAgICAgJC5zdXBwb3J0LmFuaW1hdGlvbiA9IG5ldyBTdHJpbmcocHJlZml4ZWQoJ2FuaW1hdGlvbicpKVxyXG4gICAgICAgICQuc3VwcG9ydC5hbmltYXRpb24uZW5kID0gZXZlbnRzLmFuaW1hdGlvbi5lbmRbICQuc3VwcG9ydC5hbmltYXRpb24gXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGVzdHMuY3NzdHJhbnNmb3JtcygpKSB7XHJcbiAgICAgICAgLyoganNoaW50IC1XMDUzICovXHJcbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zZm9ybSA9IG5ldyBTdHJpbmcocHJlZml4ZWQoJ3RyYW5zZm9ybScpKTtcclxuICAgICAgICAkLnN1cHBvcnQudHJhbnNmb3JtM2QgPSB0ZXN0cy5jc3N0cmFuc2Zvcm1zM2QoKTtcclxuICAgIH1cclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gVGVzdCBmb3IgcGxhY2Vob2xkZXIgc3VwcG9ydFxyXG4gICAgJC5zdXBwb3J0LnBsYWNlaG9sZGVyID0gKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIHJldHVybiAncGxhY2Vob2xkZXInIGluIGk7XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIC8vIEhpZGUgbGFiZWxzIGJ5IGRlZmF1bHQgaWYgcGxhY2Vob2xkZXJzIGFyZSBzdXBwb3J0ZWRcclxuICAgIGlmKCQuc3VwcG9ydC5wbGFjZWhvbGRlcikge1xyXG4gICAgICAgICQoJy5mb3JtLWxhYmVsJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdqcy1oaWRlLWxhYmVsJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENvZGUgZm9yIGFkZGluZy9yZW1vdmluZyBjbGFzc2VzIGhlcmVcclxuICAgICAgICAkKCcuZm9ybS1ncm91cCcpLmZpbmQoJ2lucHV0LCB0ZXh0YXJlYScpLm9uKCdrZXl1cCBibHVyIGZvY3VzJywgZnVuY3Rpb24oZSl7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWNoZSBvdXIgc2VsZWN0b3JzXHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAkcGFyZW50ID0gJHRoaXMucGFyZW50KCkuZmluZChcImxhYmVsXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGUudHlwZSA9PSAna2V5dXAnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiggJHRoaXMudmFsKCkgPT0gJycgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5hZGRDbGFzcygnanMtaGlkZS1sYWJlbCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdqcy1oaWRlLWxhYmVsJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZS50eXBlID09ICdibHVyJykge1xyXG4gICAgICAgICAgICAgICAgaWYoICR0aGlzLnZhbCgpID09ICcnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQuYWRkQ2xhc3MoJ2pzLWhpZGUtbGFiZWwnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2pzLWhpZGUtbGFiZWwnKS5hZGRDbGFzcygnanMtdW5oaWdobGlnaHQtbGFiZWwnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlLnR5cGUgPT0gJ2ZvY3VzJykge1xyXG4gICAgICAgICAgICAgICAgaWYoICR0aGlzLnZhbCgpICE9PSAnJyApIHtcclxuICAgICAgICAgICAgICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdqcy11bmhpZ2hsaWdodC1sYWJlbCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT1NQVA9PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG5mdW5jdGlvbiBteU1hcCgpXHJcbntcclxuICAgIG15Q2VudGVyPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoNDEuODc4MTE0LCAtODcuNjI5Nzk4KTtcclxuICAgIHZhciBtYXBPcHRpb25zPSB7XHJcbiAgICAgICAgY2VudGVyOm15Q2VudGVyLFxyXG4gICAgICAgIHpvb206MTIsIHNjcm9sbHdoZWVsOiBmYWxzZSwgZHJhZ2dhYmxlOiBmYWxzZSxcclxuICAgICAgICBtYXBUeXBlSWQ6Z29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcclxuICAgIH07XHJcbiAgICB2YXIgbWFwPW5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnb29nbGVNYXBcIiksbWFwT3B0aW9ucyk7XHJcblxyXG4gICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIHBvc2l0aW9uOiBteUNlbnRlcixcclxuICAgIH0pO1xyXG4gICAgbWFya2VyLnNldE1hcChtYXApO1xyXG59XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PWZvcm09PT09PT09PT0qL1xyXG4kKCcudG9nZ2xlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcuY29udGFpbmVyJykuc3RvcCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxufSk7XHJcblxyXG4kKCcuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICQoJy5jb250YWluZXInKS5zdG9wKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG59KTtcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpe1xyXG4gICAgdmFyIG93bEV4cGVydHMgPSAkKCcub3dsLWNhcm91c2VsJyk7XHJcbiAgICBvd2xFeHBlcnRzLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgbWFyZ2luOjIwLFxyXG4gICAgICAgIG5hdlNwZWVkOjUwMCxcclxuICAgICAgICBuYXY6dHJ1ZSxcclxuICAgICAgICBpdGVtczo0XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxufSk7XHJcblxyXG5cbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICB2YXIgJCQgPSBmdW5jdGlvbihzZWxlY3RvciwgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcclxuICAgICAgICB2YXIgZWxlbWVudHMgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGVsZW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gX2ZuY1NsaWRlckluaXQoJHNsaWRlciwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBwcmVmaXggPSBcIi5mbmMtXCI7XHJcblxyXG4gICAgICAgIHZhciAkc2xpZGVyID0gJHNsaWRlcjtcclxuICAgICAgICB2YXIgJHNsaWRlc0NvbnQgPSAkc2xpZGVyLnF1ZXJ5U2VsZWN0b3IocHJlZml4ICsgXCJzbGlkZXJfX3NsaWRlc1wiKTtcclxuICAgICAgICB2YXIgJHNsaWRlcyA9ICQkKHByZWZpeCArIFwic2xpZGVcIiwgJHNsaWRlcik7XHJcbiAgICAgICAgdmFyICRjb250cm9scyA9ICQkKHByZWZpeCArIFwibmF2X19jb250cm9sXCIsICRzbGlkZXIpO1xyXG4gICAgICAgIHZhciAkY29udHJvbHNCZ3MgPSAkJChwcmVmaXggKyBcIm5hdl9fYmdcIiwgJHNsaWRlcik7XHJcbiAgICAgICAgdmFyICRwcm9ncmVzc0FTID0gJCQocHJlZml4ICsgXCJuYXZfX2NvbnRyb2wtcHJvZ3Jlc3NcIiwgJHNsaWRlcik7XHJcblxyXG4gICAgICAgIHZhciBudW1PZlNsaWRlcyA9ICRzbGlkZXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciBjdXJTbGlkZSA9IDE7XHJcbiAgICAgICAgdmFyIHNsaWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgc2xpZGluZ0FUID0gK3BhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZSgkc2xpZGVzQ29udClbXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCJdKSAqIDEwMDA7XHJcbiAgICAgICAgdmFyIHNsaWRpbmdEZWxheSA9ICtwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoJHNsaWRlc0NvbnQpW1widHJhbnNpdGlvbi1kZWxheVwiXSkgKiAxMDAwO1xyXG5cclxuICAgICAgICB2YXIgYXV0b1NsaWRpbmdBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgYXV0b1NsaWRpbmdUTztcclxuICAgICAgICB2YXIgYXV0b1NsaWRpbmdEZWxheSA9IDUwMDA7IC8vIGRlZmF1bHQgYXV0b3NsaWRpbmcgZGVsYXkgdmFsdWVcclxuICAgICAgICB2YXIgYXV0b1NsaWRpbmdCbG9ja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZhciAkYWN0aXZlU2xpZGU7XHJcbiAgICAgICAgdmFyICRhY3RpdmVDb250cm9sc0JnO1xyXG4gICAgICAgIHZhciAkcHJldkNvbnRyb2w7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNldElEcygpIHtcclxuICAgICAgICAgICAgJHNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKCRzbGlkZSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICRzbGlkZS5jbGFzc0xpc3QuYWRkKFwiZm5jLXNsaWRlLVwiICsgKGluZGV4ICsgMSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICRjb250cm9scy5mb3JFYWNoKGZ1bmN0aW9uKCRjb250cm9sLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgJGNvbnRyb2wuc2V0QXR0cmlidXRlKFwiZGF0YS1zbGlkZVwiLCBpbmRleCArIDEpO1xyXG4gICAgICAgICAgICAgICAgJGNvbnRyb2wuY2xhc3NMaXN0LmFkZChcImZuYy1uYXZfX2NvbnRyb2wtXCIgKyAoaW5kZXggKyAxKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJGNvbnRyb2xzQmdzLmZvckVhY2goZnVuY3Rpb24oJGJnLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgJGJnLmNsYXNzTGlzdC5hZGQoXCJmbmMtbmF2X19iZy1cIiArIChpbmRleCArIDEpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2V0SURzKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyU2xpZGluZ0hhbmRsZXIoKSB7XHJcbiAgICAgICAgICAgICRzbGlkZXIucXVlcnlTZWxlY3RvcihcIi5tLS1wcmV2aW91cy1zbGlkZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwibS0tYWN0aXZlLXNsaWRlXCIsIFwibS0tcHJldmlvdXMtc2xpZGVcIik7XHJcbiAgICAgICAgICAgICRzbGlkZXIucXVlcnlTZWxlY3RvcihcIi5tLS1wcmV2aW91cy1uYXYtYmdcIikuY2xhc3NMaXN0LnJlbW92ZShcIm0tLWFjdGl2ZS1uYXYtYmdcIiwgXCJtLS1wcmV2aW91cy1uYXYtYmdcIik7XHJcblxyXG4gICAgICAgICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZShcIm0tLWJlZm9yZS1zbGlkaW5nXCIpO1xyXG4gICAgICAgICAgICAkYWN0aXZlQ29udHJvbHNCZy5jbGFzc0xpc3QucmVtb3ZlKFwibS0tbmF2LWJnLWJlZm9yZVwiKTtcclxuICAgICAgICAgICAgJHByZXZDb250cm9sLmNsYXNzTGlzdC5yZW1vdmUoXCJtLS1wcmV2LWNvbnRyb2xcIik7XHJcbiAgICAgICAgICAgICRwcmV2Q29udHJvbC5jbGFzc0xpc3QuYWRkKFwibS0tcmVzZXQtcHJvZ3Jlc3NcIik7XHJcbiAgICAgICAgICAgIHZhciB0cmlnZ2VyTGF5b3V0ID0gJHByZXZDb250cm9sLm9mZnNldFRvcDtcclxuICAgICAgICAgICAgJHByZXZDb250cm9sLmNsYXNzTGlzdC5yZW1vdmUoXCJtLS1yZXNldC1wcm9ncmVzc1wiKTtcclxuXHJcbiAgICAgICAgICAgIHNsaWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGxheW91dFRyaWdnZXIgPSAkc2xpZGVyLm9mZnNldFRvcDtcclxuXHJcbiAgICAgICAgICAgIGlmIChhdXRvU2xpZGluZ0FjdGl2ZSAmJiAhYXV0b1NsaWRpbmdCbG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRBdXRvc2xpZGluZ1RPKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBwZXJmb3JtU2xpZGluZyhzbGlkZUlEKSB7XHJcbiAgICAgICAgICAgIGlmIChzbGlkaW5nKSByZXR1cm47XHJcbiAgICAgICAgICAgIHNsaWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGF1dG9TbGlkaW5nVE8pO1xyXG4gICAgICAgICAgICBjdXJTbGlkZSA9IHNsaWRlSUQ7XHJcblxyXG4gICAgICAgICAgICAkcHJldkNvbnRyb2wgPSAkc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIubS0tYWN0aXZlLWNvbnRyb2xcIik7XHJcbiAgICAgICAgICAgICRwcmV2Q29udHJvbC5jbGFzc0xpc3QucmVtb3ZlKFwibS0tYWN0aXZlLWNvbnRyb2xcIik7XHJcbiAgICAgICAgICAgICRwcmV2Q29udHJvbC5jbGFzc0xpc3QuYWRkKFwibS0tcHJldi1jb250cm9sXCIpO1xyXG4gICAgICAgICAgICAkc2xpZGVyLnF1ZXJ5U2VsZWN0b3IocHJlZml4ICsgXCJuYXZfX2NvbnRyb2wtXCIgKyBzbGlkZUlEKS5jbGFzc0xpc3QuYWRkKFwibS0tYWN0aXZlLWNvbnRyb2xcIik7XHJcblxyXG4gICAgICAgICAgICAkYWN0aXZlU2xpZGUgPSAkc2xpZGVyLnF1ZXJ5U2VsZWN0b3IocHJlZml4ICsgXCJzbGlkZS1cIiArIHNsaWRlSUQpO1xyXG4gICAgICAgICAgICAkYWN0aXZlQ29udHJvbHNCZyA9ICRzbGlkZXIucXVlcnlTZWxlY3RvcihwcmVmaXggKyBcIm5hdl9fYmctXCIgKyBzbGlkZUlEKTtcclxuXHJcbiAgICAgICAgICAgICRzbGlkZXIucXVlcnlTZWxlY3RvcihcIi5tLS1hY3RpdmUtc2xpZGVcIikuY2xhc3NMaXN0LmFkZChcIm0tLXByZXZpb3VzLXNsaWRlXCIpO1xyXG4gICAgICAgICAgICAkc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoXCIubS0tYWN0aXZlLW5hdi1iZ1wiKS5jbGFzc0xpc3QuYWRkKFwibS0tcHJldmlvdXMtbmF2LWJnXCIpO1xyXG5cclxuICAgICAgICAgICAgJGFjdGl2ZVNsaWRlLmNsYXNzTGlzdC5hZGQoXCJtLS1iZWZvcmUtc2xpZGluZ1wiKTtcclxuICAgICAgICAgICAgJGFjdGl2ZUNvbnRyb2xzQmcuY2xhc3NMaXN0LmFkZChcIm0tLW5hdi1iZy1iZWZvcmVcIik7XHJcblxyXG4gICAgICAgICAgICB2YXIgbGF5b3V0VHJpZ2dlciA9ICRhY3RpdmVTbGlkZS5vZmZzZXRUb3A7XHJcblxyXG4gICAgICAgICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LmFkZChcIm0tLWFjdGl2ZS1zbGlkZVwiKTtcclxuICAgICAgICAgICAgJGFjdGl2ZUNvbnRyb2xzQmcuY2xhc3NMaXN0LmFkZChcIm0tLWFjdGl2ZS1uYXYtYmdcIik7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGFmdGVyU2xpZGluZ0hhbmRsZXIsIHNsaWRpbmdBVCArIHNsaWRpbmdEZWxheSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb250cm9sQ2xpY2tIYW5kbGVyKCkge1xyXG4gICAgICAgICAgICBpZiAoc2xpZGluZykgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoXCJtLS1hY3RpdmUtY29udHJvbFwiKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ibG9ja0FTYWZ0ZXJDbGljaykge1xyXG4gICAgICAgICAgICAgICAgYXV0b1NsaWRpbmdCbG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzbGlkZXIuY2xhc3NMaXN0LmFkZChcIm0tLWF1dG9zbGlkaW5nLWJsb2NrZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzbGlkZUlEID0gK3RoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1zbGlkZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHBlcmZvcm1TbGlkaW5nKHNsaWRlSUQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRjb250cm9scy5mb3JFYWNoKGZ1bmN0aW9uKCRjb250cm9sKSB7XHJcbiAgICAgICAgICAgICRjb250cm9sLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjb250cm9sQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0QXV0b3NsaWRpbmdUTygpIHtcclxuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChhdXRvU2xpZGluZ1RPKTtcclxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gK29wdGlvbnMuYXV0b1NsaWRpbmdEZWxheSB8fCBhdXRvU2xpZGluZ0RlbGF5O1xyXG4gICAgICAgICAgICBjdXJTbGlkZSsrO1xyXG4gICAgICAgICAgICBpZiAoY3VyU2xpZGUgPiBudW1PZlNsaWRlcykgY3VyU2xpZGUgPSAxO1xyXG5cclxuICAgICAgICAgICAgYXV0b1NsaWRpbmdUTyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtU2xpZGluZyhjdXJTbGlkZSk7XHJcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU2xpZGluZyB8fCArb3B0aW9ucy5hdXRvU2xpZGluZ0RlbGF5ID4gMCkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdXRvU2xpZGluZyA9PT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGF1dG9TbGlkaW5nQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2V0QXV0b3NsaWRpbmdUTygpO1xyXG5cclxuICAgICAgICAgICAgJHNsaWRlci5jbGFzc0xpc3QuYWRkKFwibS0td2l0aC1hdXRvc2xpZGluZ1wiKTtcclxuICAgICAgICAgICAgdmFyIHRyaWdnZXJMYXlvdXQgPSAkc2xpZGVyLm9mZnNldFRvcDtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWxheSA9ICtvcHRpb25zLmF1dG9TbGlkaW5nRGVsYXkgfHwgYXV0b1NsaWRpbmdEZWxheTtcclxuICAgICAgICAgICAgZGVsYXkgKz0gc2xpZGluZ0RlbGF5ICsgc2xpZGluZ0FUO1xyXG5cclxuICAgICAgICAgICAgJHByb2dyZXNzQVMuZm9yRWFjaChmdW5jdGlvbigkcHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgICRwcm9ncmVzcy5zdHlsZS50cmFuc2l0aW9uID0gXCJ0cmFuc2Zvcm0gXCIgKyAoZGVsYXkgLyAxMDAwKSArIFwic1wiO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzbGlkZXIucXVlcnlTZWxlY3RvcihcIi5mbmMtbmF2X19jb250cm9sOmZpcnN0LWNoaWxkXCIpLmNsYXNzTGlzdC5hZGQoXCJtLS1hY3RpdmUtY29udHJvbFwiKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBmbmNTbGlkZXIgPSBmdW5jdGlvbihzbGlkZXJTZWxlY3Rvciwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciAkc2xpZGVycyA9ICQkKHNsaWRlclNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgJHNsaWRlcnMuZm9yRWFjaChmdW5jdGlvbigkc2xpZGVyKSB7XHJcbiAgICAgICAgICAgIF9mbmNTbGlkZXJJbml0KCRzbGlkZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuZm5jU2xpZGVyID0gZm5jU2xpZGVyO1xyXG59KCkpO1xyXG5cclxuLyogbm90IHBhcnQgb2YgdGhlIHNsaWRlciBzY3JpcHRzICovXHJcblxyXG4vKiBTbGlkZXIgaW5pdGlhbGl6YXRpb25cclxub3B0aW9uczpcclxuYXV0b1NsaWRpbmcgLSBib29sZWFuXHJcbmF1dG9TbGlkaW5nRGVsYXkgLSBkZWxheSBpbiBtcy4gSWYgYXVkb1NsaWRpbmcgaXMgb24gYW5kIG5vIHZhbHVlIHByb3ZpZGVkLCBkZWZhdWx0IHZhbHVlIGlzIDUwMDBcclxuYmxvY2tBU2FmdGVyQ2xpY2sgLSBib29sZWFuLiBJZiB1c2VyIGNsaWNrZWQgYW55IHNsaWRpbmcgY29udHJvbCwgYXV0b3NsaWRpbmcgd29uJ3Qgc3RhcnQgYWdhaW5cclxuKi9cclxuZm5jU2xpZGVyKFwiLmV4YW1wbGUtc2xpZGVyXCIsIHthdXRvU2xpZGluZ0RlbGF5OiA0MDAwfSk7XHJcblxyXG52YXIgJGRlbW9Db250ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZW1vLWNvbnRcIik7XHJcblxyXG5bXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm5jLXNsaWRlX19hY3Rpb24tYnRuXCIpKS5mb3JFYWNoKGZ1bmN0aW9uKCRidG4pIHtcclxuICAgICRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICRkZW1vQ29udC5jbGFzc0xpc3QudG9nZ2xlKFwiY3JlZGl0cy1hY3RpdmVcIik7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlbW8tY29udF9fY3JlZGl0cy1jbG9zZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAkZGVtb0NvbnQuY2xhc3NMaXN0LnJlbW92ZShcImNyZWRpdHMtYWN0aXZlXCIpO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtYWN0aXZhdGUtZ2xvYmFsLWJsZW5kaW5nXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXhhbXBsZS1zbGlkZXJcIikuY2xhc3NMaXN0LnRvZ2dsZShcIm0tLWdsb2JhbC1ibGVuZGluZy1hY3RpdmVcIik7XHJcbn0pO1xuXHJcbi8qPT09PT09PT09PT09PT1QQVJBTExBWCA9PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxufSk7XHJcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHN0ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuICAgICAgJCgnLmNvbnRhaW5lci0tc3R1ZHlfX3RpdGxlICcpLmNzcyh7XHJcbiAgICAgIFwidHJhbnNmb3JtXCIgOiBcInRyYW5zbGF0ZSgwJSwgXCIrIHN0LzIgK1wiJVwiXHJcbiAgICAgIH0pO1xyXG4gICAgJCgnLmNsb3VkLXN0dWR5JykuY3NzKHtcclxuICAgICAgICBcInRyYW5zZm9ybVwiIDogXCJ0cmFuc2xhdGUoMCUsIFwiKyBzdC8yICtcIiVcIlxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmJpcmRzLXN0dWR5JykuY3NzKHtcclxuICAgICAgICBcInRyYW5zZm9ybVwiIDogXCJ0cmFuc2xhdGUoMCUsIFwiKyBzdC8xMDAgK1wiJVwiXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxufSk7XG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgIC8vXG4gICAgKGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLmZuLmNvdW50ZG93biA9IGZ1bmN0aW9uICh0LCBuKXtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGkoKXtcbiAgICAgICAgICAgICAgICBldmVudERhdGUgPSBEYXRlLnBhcnNlKHIuZGF0ZSkgLyAxZTM7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSBNYXRoLmZsb29yKGUubm93KCkgLyAxZTMpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYoZXZlbnREYXRlIDw9IGN1cnJlbnREYXRlKXtcbiAgICAgICAgICAgICAgICAgICAgbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBldmVudERhdGUgLSBjdXJyZW50RGF0ZTtcbiAgICAgICAgICAgICAgICBkYXlzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gODY0MDApO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgLT0gZGF5cyAqIDYwICogNjAgKiAyNDtcbiAgICAgICAgICAgICAgICBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgLT0gaG91cnMgKiA2MCAqIDYwO1xuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgICAgICAgICAgc2Vjb25kcyAtPSBtaW51dGVzICogNjA7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBkYXlzID09IDEgPyB0aGlzRWwuZmluZChcIi50aW1lUmVmRGF5c1wiKS50ZXh0KFwi0JTQvdC10LlcIikgOiB0aGlzRWwuZmluZChcIi50aW1lUmVmRGF5c1wiKS50ZXh0KFwi0JTQvdC10LlcIik7XG4gICAgICAgICAgICAgICAgaG91cnMgPT0gMSA/IHRoaXNFbC5maW5kKFwiLnRpbWVSZWZIb3Vyc1wiKS50ZXh0KFwi0KfQsNGB0L7QslwiKSA6IHRoaXNFbC5maW5kKFwiLnRpbWVSZWZIb3Vyc1wiKS50ZXh0KFwi0KfQsNGB0L7QslwiKTtcbiAgICAgICAgICAgICAgICBtaW51dGVzID09IDEgPyB0aGlzRWwuZmluZChcIi50aW1lUmVmTWludXRlc1wiKS50ZXh0KFwi0JzQuNC90YPRglwiKSA6IHRoaXNFbC5maW5kKFwiLnRpbWVSZWZNaW51dGVzXCIpLnRleHQoXCLQnNC40L3Rg9GCXCIpO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPT0gMSA/IHRoaXNFbC5maW5kKFwiLnRpbWVSZWZTZWNvbmRzXCIpLnRleHQoXCLQodC10LrRg9C90LRcIikgOiB0aGlzRWwuZmluZChcIi50aW1lUmVmU2Vjb25kc1wiKS50ZXh0KFwi0KHQtdC60YPQvdC0XCIpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYocltcImZvcm1hdFwiXSA9PSBcIm9uXCIpe1xuICAgICAgICAgICAgICAgICAgICBkYXlzID0gU3RyaW5nKGRheXMpLmxlbmd0aCA+PSAyID8gZGF5cyA6IFwiMFwiICsgZGF5cztcbiAgICAgICAgICAgICAgICAgICAgaG91cnMgPSBTdHJpbmcoaG91cnMpLmxlbmd0aCA+PSAyID8gaG91cnMgOiBcIjBcIiArIGhvdXJzO1xuICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gU3RyaW5nKG1pbnV0ZXMpLmxlbmd0aCA+PSAyID8gbWludXRlcyA6IFwiMFwiICsgbWludXRlcztcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IFN0cmluZyhzZWNvbmRzKS5sZW5ndGggPj0gMiA/IHNlY29uZHMgOiBcIjBcIiArIHNlY29uZHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBpZighaXNOYU4oZXZlbnREYXRlKSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNFbC5maW5kKFwiLmRheXNcIikudGV4dChkYXlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0VsLmZpbmQoXCIuaG91cnNcIikudGV4dChob3Vycyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNFbC5maW5kKFwiLm1pbnV0ZXNcIikudGV4dChtaW51dGVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0VsLmZpbmQoXCIuc2Vjb25kc1wiKS50ZXh0KHNlY29uZHMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiSW52YWxpZCBkYXRlLiBFeGFtcGxlOiAyNyBNYXJjaCAyMDE1IDE5OjAwOjAwXCI7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZhciB0aGlzRWwgPSBlKHRoaXMpO1xuICAgICAgICAgICAgdmFyIHIgPSB7XG4gICAgICAgICAgICAgICAgZGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdCAmJiBlLmV4dGVuZChyLCB0KTtcbiAgICAgICAgICAgIGkoKTtcbiAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoaSwgMWUzKVxuICAgICAgICB9XG4gICAgfSkoalF1ZXJ5KTtcbiAgICAvL1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgICAgIGZ1bmN0aW9uIGUoKXtcbiAgICAgICAgICAgIHZhciBlID0gbmV3IERhdGU7XG4gICAgICAgICAgICBlLnNldERhdGUoZS5nZXREYXRlKCkgKyA2MCk7XG4gICAgICAgICAgICBkZCA9IGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgbW0gPSBlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICAgICAgeSA9IGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIGZ1dHVyZUZvcm1hdHRlZERhdGUgPSBtbSArIFwiL1wiICsgZGQgKyBcIi9cIiArIHk7XG4gICAgICAgICAgICByZXR1cm4gZnV0dXJlRm9ybWF0dGVkRGF0ZVxuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgICQoXCIjY291bnRkb3duXCIpLmNvdW50ZG93bih7XG4gICAgICAgICAgICBkYXRlOiBcIjI4IEZlYnJ1YXJ5IDIwMTggMTk6MDA6MDBcIiwgLy8gY2hhbmdlIGRhdGUvdGltZSBoZXJlIC0gZG8gbm90IGNoYW5nZSB0aGUgZm9ybWF0IVxuICAgICAgICAgICAgZm9ybWF0OiBcIm9uXCJcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTsiXX0=
